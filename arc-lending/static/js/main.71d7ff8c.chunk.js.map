{"version":3,"sources":["typings/app.ts","state/hooks.ts","logic/ethereum/index.ts","logic/wallets/metamask/index.ts","logic/chains/index.ts","config/wallets.ts","utils/wallets/isAnyWalletSupported.ts","utils/wallets/getInstallableWallets.ts","utils/wallets/getCurrentChainId.ts","utils/wallets/isChainIdSupported.ts","utils/wallets/getChainById.ts","state/lending/actions.ts","state/wallets/actions.ts","state/wallets/hooks/useWallets.ts","api/web3/index.ts","state/app/actions.ts","state/wallets/hooks/useEtherBalance.ts","utils/lending/convertVaultResponseToVault.ts","api/smart-contracts/vaults/makeContract.ts","api/smart-contracts/vaults/index.ts","state/lending/thunks.ts","state/lending/hooks/useLending.ts","utils/sort-callbacks/sortASC.ts","state/lending/hooks/useUserVaults.ts","components/ui/UiLogo/UiLogo.tsx","components/ui/UiLink/UiLink.tsx","components/ui/UiField/styleds/WrapperStyled.tsx","components/ui/UiField/styleds/FieldWrapperStyled.tsx","components/ui/UiField/styleds/FieldContainerStyled.tsx","components/ui/UiField/styleds/FieldStyled.tsx","utils/common/removeLeadingZeros.ts","components/ui/UiField/hooks/useValidateInput.ts","components/ui/UiField/UiField.tsx","components/ui/UiButton/UiButton.tsx","components/ui/UiAlert/UiAlert.tsx","components/ui/UiHalfCirclesSpinner/UiHalfCirclesSpinner.tsx","components/ui/UiSkeleton/UiSkeleton.tsx","components/TheNavigation/TheNavigation.tsx","state/wallets/thunks.ts","utils/filters/shortenStr.ts","components/TheWalletManagementButton/TheWalletManagementButton.tsx","components/TheHeader/TheHeader.tsx","components/TheFooter/TheFooter.tsx","App/hooks/useAppMessages.ts","components/vaults/VaultCard/VaultCard.tsx","components/vaults/VaultsList/VaultsList.tsx","pages/VaultsPage/VaultsPage.tsx","components/borrow/TheBorrowInterface/hooks/useBorrow.ts","components/borrow/TheBorrowInterface/components/BorrowDetails/BorrowDetails.tsx","components/borrow/TheBorrowInterface/TheBorrowInterface.tsx","pages/BorrowPage/BorrowPage.tsx","App/components/Routing/Routing.tsx","App/components/AppAlerts/components/NoSupportedWalletsAlert.tsx","App/components/AppAlerts/components/UnsupportedChainAlert.tsx","App/components/AppAlerts/AppAlerts.tsx","App/styleds/AppWrapperStyled.tsx","App/styleds/AppContentStyled.tsx","App/App.tsx","state/app/reducer.ts","state/wallets/reducer.ts","state/lending/reducer.ts","state/index.ts","reportWebVitals.ts","index.tsx","assets/images/metamask-logo.svg","assets/images/logo.svg","assets/images/assets-logos/arcx.svg"],"names":["WalletType","ChainId","useAppDispatch","useDispatch","useAppSelector","useSelector","makeGeneralProvider","chain","ethers","providers","InfuraProvider","endpoint","process","METAMASK_LOGO","require","default","metamaskWallet","Object","freeze","type","MetaMask","name","logo","installable","installLink","isSupported","window","ethereum","isMetaMask","RINKEBY_TESTNET_CHAIN","id","EthereumMain","RopstenTest","RinkebyTest","SUPPORTED_WALLETS","GoerliTest","KovanTest","METAMASK_WALLET","SUPPORTED_CHAINS","DEFAULT_CHAIN","isAnyWalletSupported","filter","wallet","length","getInstallableWallets","getCurrentChainId","chainId","isChainIdSupported","find","getChainById","setMaxLTVRatio","createAction","setIsMaxLTVRatioLoading","setCollateralPriceUSD","setIsCollateralPriceLoading","setAllVaults","setAreVaultsLoading","addVault","setIsWalletConnecting","setIsAnyWalletSupported","setIsSupportedChainEnabled","setIsEthereumProviderConnected","setConnectedAddress","setGeneralProvider","setWalletProvider","incrementTransactionsCounter","setIsPerformingTransaction","useWallets","dispatch","state","wallets","isSupportedChainEnabled","connectedAddress","useState","isMounted","setIsMounted","handleConnect","isConnected","handleDisconnect","handleAccountsChanged","accounts","handleChainChanged","setGeneralProviderAccordingToCurrentChain","enabledChain","provider","useEffect","setTimeout","selectedAddress","Web3Provider","on","removeListener","fetchEtherBalance","a","signer","getSigner","getBalance","balanceBigNumber","Number","utils","formatUnits","toString","showMessage","removeMessage","useEtherBalance","etherBalance","setEtherBalance","walletProvider","transactionsCounter","balance","content","fetchBalance","convertVaultResponseToVault","vaultResponse","owner","debt","collateral","makeContract","Contract","vaultsAbi","fetchMaxLTVRatio","contract","ltvRatio","ltvRatioBigNumber","fetchCollateralPriceUSD","collateralPrice","collateralPriceBigNumber","fetchVaults","vaultsCount","vaultsRequests","i","push","vaults","Promise","allSettled","requestsResults","fulfilledResults","responseItem","status","Error","map","result","value","depositToVault","depositAmount","debtAmount","connect","etherAmount","parseUnits","String","debtAmountWei","deposit","response","loadMaxLTVRatio","createAsyncThunk","payload","getState","generalProvider","LTVRatio","loadCollateralPrice","collateralPriceUSD","loadVaults","borrow","collateralAmount","code","useLending","sortASC","param1","param2","useUserVaults","allVaults","lending","userVaults","vault","toLowerCase","sort","LOGO_IMG","LogoStyled","styled","img","width","UiLogo","props","src","alt","UiLink","children","mode","theme","to","openHtmlLinkSeparately","active","onClick","wrapperElementsMap","router","NavLink","html","empty","linkProps","href","target","UiLinkWrapperStyled","as","tabIndex","className","onKeyPress","e","key","defaultProps","WrapperStyled","div","FieldWrapperStyled","disabled","invalid","FieldContainerStyled","FieldStyled","input","viewOnly","removeLeadingZeros","isNaN","dot","includes","split","wholeNumbers","decimal","parseInt","useValidateInput","numbersOnly","minNumber","maxNumber","onChange","prevValidValue","setPrevValidValue","examinatedValue","onSuccessCallback","inputNumber","validateNumberInput","UiField","onFocus","onBlur","onKeyDown","field","useRef","validateInput","autoFocus","current","focus","leftAdditions","ref","placeholder","currentTarget","validValue","rightAdditions","UiButton","size","isLoading","button","handleClick","blur","ButtonWrapperStyled","height","UiAlert","alertIconsMap","info","faInfoCircle","success","faCheckCircle","warning","faExclamationTriangle","danger","faTimesCircle","AlertWrapperStyled","icon","UiHalfCirclesSpinner","customColor","speed","SpinnerStyled","spin","keyframes","UiSkeleton","color","highlightColor","NavbarWrapperStyled","Navigation","connectAccount","request","method","shortenStr","str","startSymbols","endSymbols","separation","openingLetters","slice","closingLetters","WalletManagementButton","isWalletConnecting","isWalletConnected","style","HeaderWrapperStyled","Header","TheNavigation","TheWalletManagementButton","FooterWrapperStyled","Footer","useAppMessages","messages","app","forEach","message","copyMessage","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ARCX_LOGO","VaultCardWrapperStyled","VaultCard","currentCollateralValueUSD","ltvRatioPercentage","VaultsListWrapperStyled","VaultsList","areVaultsLoading","count","borderRadius","marginBottom","index","VaultsPageWrapperStyled","Page","useBorrow","assetAmountUSD","maxLTVRatio","currentLTVRatio","isFinite","maxAssetAmount","currentLTVRatioPercentage","isBorrowPossible","DetailsWrapperStyled","DetailStyled","BorrowDetails","isMaxLTVRatioLoading","isCollateralPriceLoading","maxLTVRatioPercentage","isCurrentLTVRatioInvalid","BorrowInterfaceWrapperStyled","BorrowInterfaceFooterStyled","BorrowInterface","setCollateralAmount","borrowAssetAmount","setBorrowAssetAmount","isPerformingTransaction","BorrowPageWrapperStyled","TheBorrowInterface","Routing","exact","strict","path","component","VaultsPage","BorrowPage","NoSupportedWalletsAlert","UnsupportedChainAlert","AlertsWrapperStyled","areAlertsEmpty","AppAlerts","AppWrapperStyled","AppContentStyled","App","TheHeader","TheFooter","createReducer","builder","addCase","uuid","uuidv4","messageIdx","findIndex","splice","isEthereumProviderConnected","store","configureStore","reducer","middleware","getDefaultMiddleware","thunk","serializableCheck","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"6HAEYA,EAIAC,E,4ECHCC,EAAiB,kBAAMC,eACvBC,EAAiDC,I,QCDvD,SAASC,EAAoBC,GAClC,OAAO,IAAIC,IAAOC,UAAUC,eAC1BH,EAAMI,SACNC,qC,SFJQZ,O,wBAAAA,M,cAIAC,K,mBAAAA,E,kBAAAA,E,kBAAAA,E,iBAAAA,E,kBAAAA,M,KGHZ,IAAMY,EAAgBC,EAAQ,IAAoCC,QAanDC,EAXgBC,OAAOC,OAAO,CAC3CC,KAAMnB,EAAWoB,SACjBC,KAAM,WACNC,KAAMT,EACNU,aAAa,EACbC,YAAa,+BACbC,YAN2C,WAM5B,IAAD,IACZ,QAASC,WAAW,UAACA,cAAD,iBAAC,EAAQC,gBAAT,aAAC,EAAkBC,eCG9BC,GAZgCZ,OAAOC,OAAO,CACzDY,GAAI7B,EAAQ8B,aACZV,KAAM,mBACNV,SAAU,YAGgCM,OAAOC,OAAO,CACxDY,GAAI7B,EAAQ+B,YACZX,KAAM,kBACNV,SAAU,YAGgCM,OAAOC,OAAO,CACxDY,GAAI7B,EAAQgC,YACZZ,KAAM,kBACNV,SAAU,aCZCuB,GDe8BjB,OAAOC,OAAO,CACvDY,GAAI7B,EAAQkC,WACZd,KAAM,iBACNV,SAAU,WAG8BM,OAAOC,OAAO,CACtDY,GAAI7B,EAAQmC,UACZf,KAAM,gBACNV,SAAU,UCxBwCM,OAAOC,OAAO,CAChEmB,KAGWC,EAAqCrB,OAAOC,OAAO,CAC9DW,IAIWU,EAAgBD,EAAiB,GCR/BE,MALf,WAEE,QADyBN,EAAkBO,QAAO,SAAAC,GAAM,OAAIA,EAAOjB,iBACzCkB,QCGbC,MAJf,WACE,OAAOV,EAAkBO,QAAO,SAAAC,GAAM,OAAIA,EAAOnB,gBCApCsB,MAJf,WAA6C,IAAD,IAC1C,OAAa,QAAN,EAAAnB,cAAA,mBAAQC,gBAAR,eAAkBmB,UAAW,MCMvBC,MAJf,SAA4BD,GAC1B,QAASR,EAAiBU,MAAK,SAAAzC,GAAK,OAAIA,EAAMuB,KAAOgB,MCIxCG,MAJf,SAAsBH,GACpB,OAAOR,EAAiBU,MAAK,SAAAzC,GAAK,OAAIA,EAAMuB,KAAOgB,MAAuB,M,QCF/DI,EAAiBC,YAAqB,0BACtCC,EAA0BD,YAAsB,mCAChDE,EAAwBF,YAAqB,iCAC7CG,EAA8BH,YAAsB,uCACpDI,EAAeJ,YAAsB,wBACrCK,EAAsBL,YAAsB,+BAC5CM,EAAWN,YAAoB,oBCN/BO,EAAwBP,YAAsB,iCAC9CQ,EAA0BR,YAAsB,mCAChDS,EAA6BT,YAAsB,sCACnDU,EAAiCV,YAAsB,0CACvDW,EAAsBX,YAAqB,+BAC3CY,EAAqBZ,YAAkC,8BACvDa,EAAoBb,YAAkC,6BACtDc,EAA+Bd,YAAa,wCAC5Ce,EAA6Bf,YAAsB,sCC8FjDgB,MApFf,WAAuB,IAAD,EACdC,EAAWlE,IADG,EAEkCE,GAAe,SAAAiE,GAAK,OAAIA,EAAMC,WAA5EC,EAFY,EAEZA,wBAAyBC,EAFb,EAEaA,iBAFb,EAGgBC,oBAAS,GAHzB,mBAGZC,EAHY,KAGDC,EAHC,KAIdhD,EAAQ,UAAGD,cAAH,aAAG,EAAQC,SAwDzB,SAASiD,IACPR,EAASP,KAAgC,OAAClC,QAAD,IAACA,OAAD,EAACA,EAAUkD,iBAGtD,SAASC,IACPV,EAASP,GAA+B,IAG1C,SAASkB,EAAsBC,GAC7BZ,EAASN,EAAoBkB,EAAS,IAAM,KAG9C,SAASC,EAAmBnC,GAC1BsB,EAASR,EAA2Bb,EAAmBD,KAGzD,SAASoC,IACP,IAAMC,EAAelC,EAAaJ,KAClC,GAAKsC,EAAL,CACA,IAAMC,EAAW9E,EAAoB6E,GACrCf,EAASL,EAAmBqB,KA1E9BC,qBAAU,WACRjB,EAAST,EAAwBnB,MACjC4B,EAASP,KAAgC,OAAClC,QAAD,IAACA,OAAD,EAACA,EAAUkD,iBAE/CrC,MACH4B,EAASL,EAAmBzD,EAAoBiC,KAChD6B,EAASZ,GAAoB,KAI/B8B,YAAW,WACTlB,EAASR,EAA2Bb,EAAmBF,OACvDuB,EAASN,GAA4B,OAARnC,QAAQ,IAARA,OAAA,EAAAA,EAAU4D,kBAAmB,KAC1DnB,EAASV,GAAsB,IAC3BlB,KAA0B+B,GAC5BW,IAEFP,GAAa,GAERJ,GAA4BC,GAC/BJ,EAASZ,GAAoB,MAE9B,OACF,IAEH6B,qBAAU,WACJ7C,KAA0BkC,IACxBH,EACFW,IAEAd,EAASL,EAAmB,UAG/B,CAACQ,IAEJc,qBAAU,WACR,IAAMD,EAAWZ,EXpDZ,IAAIhE,IAAOC,UAAU+E,aAAa9D,OAAOC,SAAW,OWoDE,KAC3DyC,EAASJ,EAAkBoB,MAC1B,CAACZ,IAEJa,qBAAU,WAMR,OALQ,OAAR1D,QAAQ,IAARA,KAAU8D,GAAG,UAAWb,GAChB,OAARjD,QAAQ,IAARA,KAAU8D,GAAG,aAAcX,GACnB,OAARnD,QAAQ,IAARA,KAAU8D,GAAG,kBAAmBV,GACxB,OAARpD,QAAQ,IAARA,KAAU8D,GAAG,eAAgBR,GAEtB,WACG,OAARtD,QAAQ,IAARA,KAAU+D,eAAe,UAAWd,GAC5B,OAARjD,QAAQ,IAARA,KAAU+D,eAAe,aAAcZ,GAC/B,OAARnD,QAAQ,IAARA,KAAU+D,eAAe,kBAAmBX,GACpC,OAARpD,QAAQ,IAARA,KAAU+D,eAAe,eAAgBT,MAE1C,K,wBC5EE,SAAeU,EAAtB,kC,4CAAO,WAAiCP,GAAjC,iBAAAQ,EAAA,6DACCC,EAAST,EAASU,YADnB,SAEqCD,EAAOE,aAF5C,cAECC,EAFD,yBAGEC,OAAOzF,IAAO0F,MAAMC,YAAYH,EAAiBI,cAHnD,4C,sBCAA,IAAMC,EAAclD,YAAyB,mBACvCmD,EAAgBnD,YAA4C,qBC4B1DoD,MA1Bf,WACE,IAAMnC,EAAWlE,IADQ,EAEiBuE,mBAAS,GAF1B,mBAEjB+B,EAFiB,KAEHC,EAFG,OAGyCrG,GAAe,SAAAiE,GAAK,OAAIA,EAAMC,WAAxFE,EAHiB,EAGjBA,iBAAkBkC,EAHD,EAGCA,eAAgBC,EAHjB,EAGiBA,oBAHjB,4CAWzB,WAA4BvB,GAA5B,eAAAQ,EAAA,+EAE0BD,EAAkBP,GAF5C,OAEUwB,EAFV,OAGIH,EAAgBG,GAHpB,gDAKIxC,EAASiC,EAAY,CACnBlF,KAAM,QACN0F,QAAQ,kCAPd,0DAXyB,sBAuBzB,OAlBAxB,qBAAU,WACJb,GAAoBkC,GAND,oCAOrBI,CAAaJ,KAEd,CAAClC,EAAkBkC,EAAgBC,IAc/BH,GClBMO,MARf,SAAqCC,GACnC,MAAO,CACLC,MAAOD,EAAcC,MACrBC,KAAMjB,OAAOzF,IAAO0F,MAAMC,YAAYa,EAAcE,KAAKd,aACzDe,WAAYlB,OAAOzF,IAAO0F,MAAMC,YAAYa,EAAcG,WAAWf,e,SCM1DgB,OARf,SAAsBhC,GACpB,OAAO,IAAI5E,IAAO6G,SbFmB,6CaInCC,GACAlC,ICHG,SAAemC,GAAtB,mC,8CAAO,WAAgCnC,GAAhC,iBAAAQ,EAAA,6DACC4B,EAAWJ,GAAahC,GADzB,SAE2BoC,EAASC,WAFpC,cAECC,EAFD,yBAGEzB,OAAOzF,IAAO0F,MAAMC,YAAYuB,EAAkBtB,cAHpD,4C,sBAMA,SAAeuB,GAAtB,mC,8CAAO,WAAuCvC,GAAvC,iBAAAQ,EAAA,6DACC4B,EAAWJ,GAAahC,GADzB,SAEkCoC,EAASI,kBAF3C,cAECC,EAFD,yBAGE5B,OAAOzF,IAAO0F,MAAMC,YAAY0B,EAAyBzB,cAH3D,4C,sBAMA,SAAe0B,GAAtB,mC,8CAAO,WAA2B1C,GAA3B,yBAAAQ,EAAA,6DACC4B,EAAWJ,GAAahC,GADzB,SAE6BoC,EAASO,cAFtC,OAML,IAJMA,EAFD,OAICC,EAAiB,GAEdC,EAAI,EAAGA,GAAKF,EAAaE,IAChCD,EAAeE,KAAKV,EAASW,OAAOF,IAPjC,gBAUyBG,QAAQC,WAAWL,GAV5C,UAUCM,EAVD,QAYCC,EAAmBD,EAAgB7F,QAAO,SAAA+F,GAAY,MAA4B,cAAxBA,EAAaC,WAGvD9F,SAAU2F,EAAgB3F,OAf3C,uBAgBG,IAAI+F,MAhBP,iCAmBEH,EAAiBI,KAAI,SAACC,GAAD,OAAiBA,EAAOC,SAAOF,IAAI5B,IAnB1D,6C,sBA2BA,SAAe+B,GAAtB,qC,8CAAO,WAA8B1D,EAA9B,4BAAAQ,EAAA,6DACLmD,EADK,EACLA,cACAC,EAFK,EAELA,WAGAxB,GADIA,EAAWJ,GAAahC,IACR6D,QAAQ7D,EAASU,aAE/BoD,EAAc1I,IAAO0F,MAAMiD,WAAWC,OAAOL,GAAgB,SAC7DM,EAAgB7I,IAAO0F,MAAMiD,WAAWC,OAAOJ,GAAa,SAR7D,SAUkBxB,EAAS8B,QAAQD,EAAe,CACrDR,MAAOK,IAXJ,cAUCK,EAVD,yBAcEA,GAdF,4C,sBCtBA,IAAMC,GAAkBC,YAC7B,0BAD6C,uCAE7C,WAAOC,EAAP,0BAAA9D,EAAA,yDAAkBxB,EAAlB,EAAkBA,SAAUuF,EAA5B,EAA4BA,SAA5B,SAEIvF,EAAShB,GAAwB,IAFrC,EAGwBuG,KAAZrF,EAHZ,EAGYA,SAEKsF,gBALjB,sBAKwC,IAAIlB,MAL5C,uBAM2BnB,GAAiBjD,EAAQsF,iBANpD,OAMUC,EANV,OAQIzF,EAASlB,EAAe2G,IAR5B,kDAUIzF,EAASiC,EAAY,CACnBlF,KAAM,QACN0F,QAAQ,+DAZd,yBAeIzC,EAAShB,GAAwB,IAfrC,6EAF6C,yDAsBlC0G,GAAsBL,YACjC,8BADiD,uCAEjD,WAAOC,EAAP,0BAAA9D,EAAA,yDAAkBxB,EAAlB,EAAkBA,SAAUuF,EAA5B,EAA4BA,SAA5B,SAEIvF,EAASd,GAA4B,IAFzC,EAGwBqG,KAAZrF,EAHZ,EAGYA,SAEKsF,gBALjB,sBAKwC,IAAIlB,MAL5C,uBAMqCf,GAAwBrD,EAAQsF,iBANrE,OAMUG,EANV,OAQI3F,EAASf,EAAsB0G,IARnC,kDAUI3F,EAASiC,EAAY,CACnBlF,KAAM,QACN0F,QAAQ,kEAZd,yBAeIzC,EAASd,GAA4B,IAfzC,6EAFiD,yDAsBtC0G,GAAaP,YACxB,qBADwC,uCAExC,WAAOC,EAAP,0BAAA9D,EAAA,yDAAkBxB,EAAlB,EAAkBA,SAAUuF,EAA5B,EAA4BA,SAA5B,SAEIvF,EAASZ,GAAoB,IAFjC,EAGwBmG,KAAZrF,EAHZ,EAGYA,SAEKoC,eALjB,sBAKuC,IAAIgC,MAL3C,uBAMyBZ,GAAYxD,EAAQoC,gBAN7C,OAMUyB,EANV,OAQI/D,EAASb,EAAa4E,IAR1B,kDAUI/D,EAASiC,EAAY,CACnBlF,KAAM,QACN0F,QAAQ,oDAZd,yBAeIzC,EAASZ,GAAoB,IAfjC,6EAFwC,yDA0B7ByG,GAASR,YACpB,iBADoC,uCAEpC,WAAOC,EAAP,wBAAA9D,EAAA,yDAA2CxB,EAA3C,EAA2CA,SAAUuF,EAArD,EAAqDA,SAArD,SAEIvF,EAASF,GAA2B,IAFxC,EAIwByF,KAAZrF,EAJZ,EAIYA,SAEKoC,eANjB,sBAMuC,IAAIgC,MAN3C,uBAOUI,GAAexE,EAAQoC,eAAgB,CAC3CqC,cAAeW,EAAQQ,iBACvBlB,WAAYU,EAAQV,aAT1B,OAYI5E,EAASX,EAAS,CAChBwD,MAAO3C,EAAQE,iBACf0C,KAAMwC,EAAQV,WACd7B,WAAYuC,EAAQQ,oBAGtB9F,EAASH,KAlBb,kDf9EgD,QekGxC,uCAAKkG,OACP/F,EAASiC,EAAY,CACnBlF,KAAM,QACN0F,QAAQ,gDAvBhB,yBA2BIzC,EAASF,GAA2B,IA3BxC,6EAFoC,yDCpDvBkG,OAzBf,WACE,IAAMhG,EAAWlE,IADG,EAEiDE,GAAe,SAAAiE,GAAK,OAAIA,EAAMC,WAA3FsF,EAFY,EAEZA,gBAAiBlD,EAFL,EAEKA,eAAgBnC,EAFrB,EAEqBA,wBAEzCc,qBAAU,WACJuE,GACFxF,EAASoF,MACTpF,EAAS0F,QAET1F,EAASlB,EAAe,IACxBkB,EAASf,EAAsB,IAC/Be,EAAShB,GAAwB,IACjCgB,EAASd,GAA4B,OAEtC,CAACsG,IAEJvE,qBAAU,WAENjB,EADEsC,GAAkBnC,EACXyF,KAEAzG,EAAa,OAEvB,CAACmD,EAAgBnC,KClCP8F,OAJf,SAAoBC,EAAWC,GAC7B,OAAOD,EAASC,EAAS,GAAK,GCajBC,I,MAAAA,GAXf,WAA0B,IAChBC,EAAcrK,GAAe,SAAAiE,GAAK,OAAIA,EAAMqG,WAA5CD,UACAjG,EAAqBpE,GAAe,SAAAiE,GAAK,OAAIA,EAAMC,WAAnDE,iBAMR,MAAO,CAAEmG,WAJUF,EAAUhI,QAAO,SAAAmI,GAClC,OAAOA,EAAM3D,MAAM4D,gBAAkBrG,EAAiBqG,iBACrDC,KAAKT,M,wBCPJU,GAAWjK,EAAQ,IAA2BC,QAgB9CiK,GAAaC,KAAOC,IAAV,oEAIL,gBAAGC,EAAH,EAAGA,MAAH,OAAeA,GAAgB,UAG3BC,GAjBiB,SAACC,GAC/B,OACE,eAACL,GAAD,CACEM,IAAKP,GACLQ,IAAI,GACJJ,MAAOE,EAAMF,S,SCQbK,GAA0B,SAAC,GAQ1B,IAPLC,EAOI,EAPJA,SAOI,IANJC,YAMI,MANG,SAMH,MALJC,aAKI,MALI,UAKJ,EAJJC,EAII,EAJJA,GAII,IAHJC,8BAGI,SAFJC,EAEI,EAFJA,OAEI,IADJC,eACI,MADM,aACN,EACEC,EAAqB,CACzBC,OAAQC,IACRC,KAAM,IACNC,MAAO,OAGHC,EAAuB,CAAET,GAAI,IAYnC,MAVa,WAATF,IAAmBW,EAAUT,GAAKA,GACzB,SAATF,IACFW,EAAUC,KAAOV,EACbC,IAAwBQ,EAAUE,OAAS,WAQ/C,eAACC,GAAD,2BACEC,GAAIT,EAAmBN,GACvBC,MAAOA,GACFU,GAHP,IAIEK,SAAU,EACVC,UAAS,UAAMb,GAAU,UACzBC,QAASA,EACTa,WAZJ,SAAwBC,GACR,UAAVA,EAAEC,KAAiBf,KAIvB,SASIN,MAKRD,GAAOuB,aAAe,CACpBrB,KAAM,SACNC,MAAO,UACPE,wBAAwB,EACxBC,QAAQ,EACRC,QAAS,cAGX,I,YAAMS,GAAsBvB,aAAOiB,IAAPjB,CAAH,yYAoBrB,kBAAyB,SAAzB,EAAGU,MAAY,uHAMJH,M,SCxFAwB,GAPO/B,KAAOgC,IAAV,0GC6BJC,GA7BYjC,KAAOgC,IAAV,+PAcpB,qBAAGE,SAAuB,8DAM1B,qBAAGC,QAAqB,qICNbC,GAdcpC,KAAOgC,IAAV,gOC0BXK,GA1BKrC,KAAOsC,MAAV,+RAab,gBAAGJ,EAAH,EAAGA,SAAUK,EAAb,EAAaA,SAAb,OAA6BL,GAAYK,EAAb,8CAI5B,qBAAGA,SAAuB,gCCHfC,GAhBY,SAACF,GAC1B,GAAItH,OAAOyH,MAAMzH,OAAOsH,IACtB,MAAO,IAET,IAAMI,EAAMJ,EAAMK,SAAS,KAAO,IAAM,GAJY,EAKpBL,EAAMM,MAAM,KALQ,mBAK7CC,EAL6C,KAK/BC,EAL+B,KAM9CnF,EAAM,UAAMoF,SAASF,EAAc,KAA7B,OAAmCH,GAAnC,OAAyCI,GAAW,IAGhE,OAA4B,IAAxBD,EAAanL,QAAoC,MAApBmL,EAAa,IAAkC,MAApBA,EAAa,GACjE,IAAN,OAAWlF,GAGNA,GC+CMqF,OAhDf,YAAwF,IAA5DC,EAA2D,EAA3DA,YAAaC,EAA8C,EAA9CA,UAAWC,EAAmC,EAAnCA,UAAWC,EAAwB,EAAxBA,SAAwB,EACvC5J,mBAAS,IAD8B,mBAC7E6J,EAD6E,KAC7DC,EAD6D,KA6CrF,OA1CA,SAAuBC,EAAyBC,GAC1CP,EAON,SAA6BM,EAAyBC,GACpD,IAAMC,EAAczI,OAAOuI,IAEvBvI,OAAOyH,MAAMzH,OAAOqI,KAAuC,KAAnBA,IAC1CC,EAAkBJ,EAAU/H,YAG9B,GAAIH,OAAOyH,MAAMgB,GAEf,YADAL,EAASC,GAIX,GAAwB,KAApBE,EAEF,YADAH,EAASF,EAAU/H,YAIrB,GAAIsI,EAAcP,EAEhB,YADAE,EAASF,EAAU/H,YAIrB,GAAIsI,EAAcN,EAEhB,YADAC,EAASD,EAAUhI,YAIrBmI,EAAkBd,GAAmBe,IAEjCC,GACFA,EAAkBhB,GAAmBe,IApCrCG,CAAoBH,EAAiBC,GAC5BA,GACTA,EAAkBD,KCKlBI,GAA4B,SAAC,GAY5B,IAXL/F,EAWI,EAXJA,MACA4C,EAUI,EAVJA,SAUI,IATJtK,YASI,MATG,OASH,MARJ+M,mBAQI,aAPJC,iBAOI,MAPQ,EAOR,MANJC,iBAMI,MANQ,IAMR,MALJS,eAKI,MALM,aAKN,MAJJC,cAII,MAJK,aAIL,MAHJT,gBAGI,MAHO,SAACxF,KAGR,MAFJkG,iBAEI,MAFQ,SAAClC,KAET,EADDxB,EACC,4HACE2D,EAAQC,iBAAyB,MAEjCC,EAAgBjB,GAAiB,CACrCC,cACAC,YACAC,YACAC,aAiBF,OAdAhJ,qBAAU,WAAO,IAAD,EACVgG,EAAM8D,YAAW,UAAAH,EAAMI,eAAN,SAAeC,WACnC,CAAChE,EAAM8D,YAEV9J,qBAAU,WACJ6I,GAAagB,EAAcrG,KAC9B,CAACqF,IASF,gBAAC,GAAD,WACIzC,GACA,sBAAKkB,UAAU,cAAf,SACIlB,IAIN,eAAC,GAAD,CACE2B,QAAS/B,EAAM+B,QACfI,SAAUnC,EAAMmC,SAChBL,SAAU9B,EAAM8B,SAHlB,SAKE,gBAAC,GAAD,WACI9B,EAAMiE,eACN,sBAAK3C,UAAU,iBAAf,SACItB,EAAMiE,gBAIZ,+BACE,eAAC,GAAD,CACEC,IAAKP,EACLnG,MAAOA,EACP1H,KAAMA,EACNqO,YAAanE,EAAMmE,YACnBrC,SAAU9B,EAAM8B,UAAY9B,EAAMmC,SAClCA,SAAUnC,EAAMmC,SAChBqB,QAASA,EACTC,OAAQA,EACRT,SApCZ,SAAwBxB,GACtBqC,EAAcrC,EAAE4C,cAAc5G,OAAO,SAAC6G,GACpCrB,EAASqB,OAmCDX,UAAWA,MAIb1D,EAAMsE,gBACN,sBAAKhD,UAAU,kBAAf,SACItB,EAAMsE,0BAStBf,GAAQ7B,aAAe,CACrB5L,KAAM,OACNqO,YAAa,GACbrC,UAAU,EACVgC,WAAW,EACX/B,SAAS,EACTI,UAAU,EACVU,aAAa,EACbC,UAAW,EACXC,UAAW,IACXS,QAAS,aACTC,OAAQ,aACRT,SAAU,SAACxF,KACXkG,UAAW,SAAClC,MAGC+B,I,GAAAA,MC1GTgB,GAA8B,SAAC,GAS9B,IARLnE,EAQI,EARJA,SAQI,IAPJC,YAOI,MAPG,UAOH,MANJC,aAMI,MANI,UAMJ,MALJkE,YAKI,MALG,SAKH,MAJJ1C,gBAII,aAHJ2C,iBAGI,aAFJ/D,eAEI,MAFM,aAEN,EADDV,EACC,oFACE0E,EAASd,iBAAuB,MAEtC,SAASe,IAAqB,IAAD,EAC3B,UAAAD,EAAOX,eAAP,SAAgBa,OAChBlE,IAOF,OACE,eAACmE,GAAD,CACEX,IAAKQ,EACLrD,SAAUS,GAAY2C,GAAa,EAAI,EACvCpE,KAAMA,EACNC,MAAOA,EACPkE,KAAMA,EACN1C,SAAUA,EACV2C,UAAWA,EACXK,OAAQ9E,EAAM8E,OACdhF,MAAOE,EAAMF,MACbY,QAASoB,GAAY2C,EAAY,aAAWE,EAC5CpD,WAhBJ,SAAwBC,GACR,UAAVA,EAAEC,KAAoBK,GAAa2C,GAAWE,KAIlD,SAaIF,EACA,eAAC,GAAD,CAAsBD,KAAK,SACzBpE,KAKVmE,GAAS7C,aAAe,CACtBI,UAAU,EACVzB,KAAM,UACNC,MAAO,UACPkE,KAAM,SACNC,WAAW,EACXK,OAAQ,GACRhF,MAAO,GACPY,QAAS,cAGX,I,GAAMmE,GAAsBjF,KAAOgC,IAAV,iRAed,qBAAG9B,OAAqB,UACvB,gBAAGgF,EAAH,EAAGA,OAAH,OAAgBA,EAAM,UAAMA,EAAN,eAA4B,UAClD,qBAAGhD,SAA0B,cAAgB,aACrD,qBAAG2C,UAA4B,mBAAqB,MAEpD,kBAAuB,UAAvB,EAAGD,KAAW,4EAMd,kBAAuB,WAAvB,EAAGA,KAAW,4EAMd,kBAAuB,UAAvB,EAAGA,KAAW,4EAMd,gBAAGnE,EAAH,EAAGA,KAAMyB,EAAT,EAASA,SAAUxB,EAAnB,EAAmBA,MAAOmE,EAA1B,EAA0BA,UAA1B,MAAmD,YAATpE,EAAA,iNASxCyB,EAAQ,iCATgC,uBAatCA,GAAa2C,EAAd,0HAbuC,mBAuB9B,YAAVnE,EAAA,oDAvBwC,uBA2B9B,YAAVA,EAAA,4HA3BwC,cAiC/BiE,M,kBChITQ,GAA4B,SAAC,GAG5B,IAAD,IAFJzE,aAEI,MAFI,OAEJ,EADDN,EACC,0BACEgF,EAAgB,CACpBC,KAAMC,KACNC,QAASC,KACTC,QAASC,KACTC,OAAQC,MAGV,OACE,gBAACC,GAAD,CAAoBnF,MAAOA,EAA3B,UACE,eAAC,KAAD,CAAiBgB,UAAU,aAAaoE,KAAMV,EAAc1E,KAE5D,+BACIN,EAAMI,eAMhB2E,GAAQrD,aAAe,CACrBpB,MAAO,QAGT,I,MAAMmF,GAAqB7F,KAAOgC,IAAV,+aAkBpB,kBAAyB,SAAzB,EAAGtB,MAAY,0DAIf,kBAAyB,YAAzB,EAAGA,MAAY,6DAIf,kBAAyB,WAAzB,EAAGA,MAAY,4DAIf,kBAAyB,YAAzB,EAAGA,MAAY,6DAKJyE,MC/DTY,GAAsD,SAAC,GAKtD,IAJLrF,EAII,EAJJA,MACAsF,EAGI,EAHJA,YACApB,EAEI,EAFJA,KACAqB,EACI,EADJA,MAEA,OACE,eAACC,GAAD,CACExF,MAAOA,EACPsF,YAAaA,EACbpB,KAAMA,EACNqB,MAAOA,KAKbF,GAAqBjE,aAAe,CAClCpB,MAAO,cACPsF,YAAa,GACbpB,KAAM,OACNqB,MAAO,QAGT,IAAME,GAAOC,aAAH,yHASJF,GAAgBlG,KAAOgC,IAAV,sNAQf,gBAAG4C,EAAH,EAAGA,KAAH,6BACSA,EADT,0BAEUA,EAFV,cASE,gBAAGA,EAAH,EAAGA,KAAH,+BACSA,EADT,4BAEUA,EAFV,gBAMA,gBAAGlE,EAAH,EAAGA,MAAOsF,EAAV,EAAUA,YAAV,0CACoBA,GAAW,gBAAatF,EAAb,WAD/B,kCAEgBsF,GAAW,gBAAatF,EAAb,WAF3B,wBAEsEsF,GAAW,gBAAatF,EAAb,WAFjF,yBAIWyF,IAAQ,qBAAGF,SAIbF,M,oBCjETM,GAAkC,SAACjG,GACvC,OACE,eAAC,iBAAD,CACEkG,MAAOlG,EAAMkG,MACbC,eAAgBnG,EAAMmG,eAFxB,SAIE,eAAC,KAAD,gBAAcnG,OAKpBiG,GAAWvE,aAAe,CACxBwE,MAAO,UACPC,eAAgB,WAGHF,I,GAAAA,MCPTG,GAAsBxG,KAAOgC,IAAV,kLAaVyE,GA1BQ,WACrB,OACE,gBAACD,GAAD,WACE,sBAAK9E,UAAU,cAAf,SACE,eAAC,GAAD,CAAQf,GAAG,UAAX,sBAEF,sBAAKe,UAAU,cAAf,SACE,eAAC,GAAD,CAAQf,GAAG,UAAX,0BCRK+F,GAAiBlI,YAC5B,yBAD4C,uCAE5C,WAAOC,EAAP,sBAAA9D,EAAA,6DAAkBxB,EAAlB,EAAkBA,SACVzC,EADR,UACmBD,cADnB,aACmB,EAAQC,SAD3B,SAIIyC,EAASV,GAAsB,IAJnC,gBAKU/B,QALV,IAKUA,OALV,EAKUA,EAAUiQ,QAAQ,CAAEC,OAAQ,wBALtC,gFAQIzN,EAASV,GAAsB,IARnC,4EAF4C,yDCM/BoO,I,SAAAA,GATf,SAAoBC,GAA4E,IAA/DC,EAA8D,uDAA/C,EAAGC,EAA4C,uDAA/B,EAAGC,EAA4B,uDAAf,MAC9E,GAAIH,EAAIpP,OAASqP,EAAeC,EAAY,OAAOF,EAEnD,IAAMI,EAAiBJ,EAAIK,MAAM,EAAGJ,GAC9BK,EAAiBN,EAAIK,OAAOH,GAElC,MAAM,GAAN,OAAUE,GAAV,OAA2BD,GAA3B,OAAwCG,ICEpC3P,GAASR,EAAkB,GAkC3BgO,GAAsBjF,KAAOgC,IAAV,0JAWVqF,GA3CoB,WACjC,IAAMlO,EAAWlE,IADsB,EAEUE,GAAe,SAAAiE,GAAK,OAAIA,EAAMC,WAAvEE,EAF+B,EAE/BA,iBAAkB+N,EAFa,EAEbA,mBAEpBC,IAAsBhO,EAE5B,OACE,eAAC,GAAD,CACE2I,SAAUoF,GAAsBC,EAChCzG,QAAS,kBAAM3H,EAASuN,OACxBxG,MAAM,QACNgF,OAAO,OACPL,UAAWyC,EALb,SAOE,eAAC,GAAD,UACGC,EACC,+BACE,gCAAQV,GAAWtN,EAAkB,EAAG,OAG1C,uBAAKmI,UAAU,iBAAf,UACE,sBAAKA,UAAU,uBAAuBrB,IAAK5I,GAAOpB,KAAMiK,IAAI,GAAGkH,MAAO,CAAEtH,MAAO,UAC/E,4CACWzI,GAAOrB,gBCNxBqR,GAAsBzH,KAAOgC,IAAV,4GAMV0F,GA1BI,WACjB,OACE,gBAACD,GAAD,WACE,+BACE,eAAC,IAAD,CAAM9G,GAAG,IAAT,SACE,eAAC,GAAD,QAIJ,+BACE,eAACgH,GAAD,MAGF,+BACE,eAACC,GAAD,UCiCFC,GAAsB7H,KAAOgC,IAAV,wSAmBV8F,GArEI,WACjB,OACE,gBAACD,GAAD,WACE,uBAAKnG,UAAU,mBAAf,UACE,sBAAKA,UAAU,yBAAf,SACE,eAAC,GAAD,CACEf,GAAG,0BACHF,KAAK,OACLG,wBAAsB,EAHxB,oBASF,sBAAKc,UAAU,yBAAf,SACE,eAAC,GAAD,CACEf,GAAG,2BACHF,KAAK,OACLG,wBAAsB,EAHxB,uBAUJ,uBAAKc,UAAU,mBAAf,UACE,sBAAKA,UAAU,yBAAf,SACE,eAAC,GAAD,CACEf,GAAG,qCACHF,KAAK,OACLG,wBAAsB,EAHxB,uBASF,sBAAKc,UAAU,yBAAf,SACE,eAAC,GAAD,CACEf,GAAG,gCACHF,KAAK,OACLG,wBAAsB,EAHxB,8BCTKmH,I,SAAAA,GA1Bf,WACE,IAAM5O,EAAWlE,IACT+S,EAAa7S,GAAe,SAAAiE,GAAK,OAAIA,EAAM6O,OAA3CD,SAER5N,qBAAU,WACR4N,EAASE,SAAQ,SAAAC,GACf,IAAMC,EAAW,gBAAQD,GACzBhP,EAASkC,EAAc8M,IAEvBE,IAAMD,EAAYlS,MAChBkS,EAAYxM,QACZ,CACE0M,SAAU,aACV5H,MAAO,OACP6H,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,SAIf,CAACb,K,SCzBAc,GAAYjT,EAAQ,IAAwCC,QAsE5DiT,GAAyB/I,KAAOgC,IAAV,olBAqCbgH,GArGuB,SAAC,GAEhC,IADLrJ,EACI,EADJA,MAIMsJ,EAFyB9T,GAAe,SAAAiE,GAAK,OAAIA,EAAMqG,WAArDX,mBAE+Ca,EAAMzD,WAEvDgN,EAAsBvJ,EAAM1D,KAAOgN,EAA6B,IAEtE,OACE,gBAACF,GAAD,WACE,uBAAKrH,UAAU,aAAf,UACE,sBAAKA,UAAU,mBAAf,SACE,sBAAKA,UAAU,mBAAmBrB,IAAKyI,GAAWxI,IAAI,OAGxD,iCACE,uBAAKoB,UAAU,YAAf,UACE,uBAAMA,UAAU,mBAAhB,kBADF,aAGA,+BACE,uBAAMA,UAAU,aAAhB,+CAKN,uBAAKA,UAAU,yBAAf,UACE,uBAAKA,UAAU,oBAAf,UACE,sBAAKA,UAAU,YAAf,SACE,wBAAMA,UAAkB,mBAAxB,UACGwH,EADH,SAIF,+BACE,uBAAMxH,UAAU,aAAhB,8BAIJ,uBAAKA,UAAU,oBAAf,UACE,sBAAKA,UAAU,YAAf,SACE,wBAAMA,UAAU,mBAAhB,UACI/B,EAAMzD,WADV,aAIF,+BACE,uBAAMwF,UAAU,aAAhB,4BAIJ,uBAAKA,UAAU,oBAAf,UACE,sBAAKA,UAAU,YAAf,SACE,wBAAMA,UAAU,mBAAhB,UACI/B,EAAM1D,KADV,aAIF,+BACE,uBAAMyF,UAAU,aAAhB,kCChCNyH,GAA0BnJ,KAAOgC,IAAV,uIAUdoH,GArCQ,WAAO,IACpBC,EAAqBlU,GAAe,SAAAiE,GAAK,OAAIA,EAAMqG,WAAnD4J,iBACA3J,EAAeH,KAAfG,WAER,OACE,gBAACyJ,GAAD,WACGE,GACC,eAAC,GAAD,CACEnE,OAAQ,GACRoE,MAAO,EACP9B,MAAO,CAAE+B,aAAc,OAAQC,aAAc,WAI9CH,IAAqB3J,EAAWhI,QACjC,eAAC,GAAD,6CAGC2R,KAAsB3J,EAAWhI,QAAWgI,EAAWhC,KAAI,SAACiC,EAAO8J,GAAR,OAC5D,sBAAiB/H,UAAU,aAA3B,SACE,eAAC,GAAD,CAAW/B,MAAOA,KADV8J,UCDZC,GAA0B1J,KAAOgC,IAAV,6KAYd2H,GAjCE,WACf,OACE,eAACD,GAAD,UACE,uBAAKhI,UAAU,sBAAf,UACE,iCACE,+BACE,qBAAIA,UAAU,6BAAd,sBAEF,+BACE,qFAIJ,sBAAKA,UAAU,4BAAf,SACE,eAAC,GAAD,YCmBKkI,I,wBAAAA,GA5Bf,YAIc,IAHZ3K,EAGW,EAHXA,iBACA4K,EAEW,EAFXA,eACAtO,EACW,EADXA,aACW,EACiCpG,GAAe,SAAAiE,GAAK,OAAIA,EAAMqG,WAAlEX,EADG,EACHA,mBAAoBgL,EADjB,EACiBA,YADjB,EAEmC3U,GAAe,SAAAiE,GAAK,OAAIA,EAAMC,WAApEE,EAFG,EAEHA,iBAAkBoF,EAFf,EAEeA,gBAEpB4I,IAAsBhO,EAIxBwQ,EAAmBF,GAFW5K,EAAmBH,GAWrD,OARK9D,OAAOgP,SAASD,IAAqBA,IAAiBA,EAAkB,GAQtE,CACLE,eANqB1O,EAAeuD,EAAqBgL,EAOzDI,0BATkD,IAAlBH,EAUhCI,iBAN8BJ,GAAmBD,GAAeC,EAAkB,GACjCpL,GAAmB4I,IC0ClE6C,GAAuBpK,KAAOgC,IAAV,kIAUpBqI,GAAerK,KAAOgC,IAAV,iIAOHsI,GA9E+B,SAAC,GAAmC,IAAjCJ,EAAgC,EAAhCA,0BAAgC,EAM3E/U,GAAe,SAAAiE,GAAK,OAAIA,EAAMqG,WAJhCqK,EAF6E,EAE7EA,YACAS,EAH6E,EAG7EA,qBACAzL,EAJ6E,EAI7EA,mBACA0L,EAL6E,EAK7EA,yBAGIC,EAAsC,IAAdX,EAExBY,EAA2BR,EAA4BO,GAAyBP,GAA6B,EAEnH,OACE,gBAACE,GAAD,WACE,gBAACC,GAAD,CAAc3I,UAAU,SAAxB,UACE,+BACE,uBAAMA,UAAU,aAAhB,iCAGF,+BACE,wBAAMA,UAAS,UAAKgJ,GAA4B,cAAjC,gCAAf,UACIR,EADJ,YAMJ,gBAACG,GAAD,CAAc3I,UAAU,SAAxB,UACE,+BACE,uBAAMA,UAAU,aAAhB,iCAGF,+BACI6I,EACA,eAAC,GAAD,CAAYrK,MAAO,GAAIgF,OAAQ,KAE/B,wBAAMxD,UAAU,8BAAhB,UACG+I,EADH,YAON,gBAACJ,GAAD,CAAc3I,UAAU,SAAxB,UACE,+BACE,uBAAMA,UAAU,aAAhB,yBAGF,+BACI8I,EACA,eAAC,GAAD,CAAYtK,MAAO,GAAIgF,OAAQ,KAE/B,wBAAMxD,UAAU,8BAAhB,cACK5C,EADL,mBCmCN6L,GAA+B3K,KAAOgC,IAAV,8TAoB5B4I,GAA8B5K,KAAOgC,IAAV,sIASlB6I,GAlHa,WAC1B,IAAM1R,EAAWlE,IADe,EAEkBuE,mBAAS,KAF3B,mBAExByF,EAFwB,KAEN6L,EAFM,OAGoBtR,mBAAS,KAH7B,mBAGxBuR,EAHwB,KAGLC,EAHK,OAI0C7V,GAAe,SAAAiE,GAAK,OAAIA,EAAMC,WAAhGiO,EAJwB,EAIxBA,mBAAoB/N,EAJI,EAIJA,iBAAkB0R,EAJd,EAIcA,wBACxC1P,EAAeD,IALW,EAW5BsO,GAAU,CACZ3K,iBAAkBjE,OAAOiE,GACzB4K,eAAgB7O,OAAO+P,GACvBxP,aAAcA,IANd2O,EAR8B,EAQ9BA,0BACAC,EAT8B,EAS9BA,iBACAF,EAV8B,EAU9BA,eAOI1C,IAAsBhO,EAS5B,OACE,eAACoR,GAAD,UACE,uBAAKjJ,UAAU,mBAAf,UACE,sBAAKA,UAAU,0BAAf,SACE,eAAC,GAAD,CACE9D,MAAOqB,EACPmE,SAAW0H,EACX7H,aAAW,EACXE,UAAW5H,EACX2I,WAAS,EACTQ,eACE,sBAAKhD,UAAU,mBAAf,iBAPJ,SAUE,uBAAKA,UAAU,aAAf,UACE,uBAAMA,UAAU,mBAAhB,qBADF,qBAMJ,sBAAKA,UAAU,0BAAf,SACE,eAAC,GAAD,CACE9D,MAAOmN,EACP3H,SAAW4H,EACX/H,aAAW,EACXE,UAAW8G,EACXvF,eACE,sBAAKhD,UAAU,mBAAf,iBANJ,SASE,uBAAKA,UAAU,aAAf,UACE,uBAAMA,UAAU,mBAAhB,oBADF,gBAMJ,sBAAKA,UAAU,2BAAf,SACE,gBAACkJ,GAAD,WACE,sBAAKlJ,UAAU,UAAf,SACE,eAAC,GAAD,CAAewI,0BAA2BA,MAG5C,+BACE,eAAC,GAAD,CACExJ,MAAM,UACNmE,UAAWyC,GAAsB2D,EACjC/I,UAAWiI,EACXrJ,QAtDd,WACE3H,EAAS6F,GAAO,CACdC,iBAAkBjE,OAAOiE,GACzBlB,WAAY/C,OAAO+P,OA+CX,SAMIxD,EAAoB,kBAAoB,gCC5DpD2D,GAA0BlL,KAAOgC,IAAV,6MAad2H,GAlCE,WACf,OACE,eAACuB,GAAD,UACE,uBAAKxJ,UAAU,sBAAf,UACE,iCACE,uBAAKA,UAAU,YAAf,UACE,uBAAMA,UAAU,mBAAhB,iBADF,YAGA,+BACE,6FAIJ,sBAAKA,UAAU,iCAAf,SACE,eAACyJ,GAAD,YCDKC,GAZK,WAClB,OACE,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOC,OAAK,EAACC,QAAM,EAACC,KAAK,UAAUC,UAAWC,KAC9C,eAAC,KAAD,CAAOJ,OAAK,EAACC,QAAM,EAACC,KAAK,UAAUC,UAAWE,KAC9C,eAAC,KAAD,CAAOH,KAAK,IAAZ,SACE,eAAC,KAAD,CAAU5K,GAAG,kBCeNgL,GAtBqB,WAClC,OACE,gBAAC,GAAD,CAASjL,MAAM,SAAf,qFAEG/I,IAAwB+F,KAAI,SAACjG,EAAQgS,GAAT,OAC3B,kCACa,IAAVA,GAAgB,2CAEjB,eAAC,GAAD,CACE9I,GAAIlJ,EAAOlB,YACXmK,MAAM,OACND,KAAK,OACLG,wBAAsB,EAJxB,SAMGnJ,EAAOrB,SATDqT,UCSJmC,GAdmB,WAChC,OACE,gBAAC,GAAD,CAASlL,MAAM,UAAf,uEAEGrJ,EAAiBqG,KAAI,SAACpI,EAAOmU,GAAR,OACpB,kCACa,IAAVA,GAAgB,2CAChBnU,EAAMc,OAFEqT,UCkBboC,GAAsB7L,KAAOgC,IAAV,gMAcrB,qBAAG8J,eAAqB,uCAKbC,GAxCO,WAAO,IAAD,EACgC5W,GAAe,SAAAiE,GAAK,OAAIA,EAAMC,WAAhF9B,EADkB,EAClBA,qBAAsB+B,EADJ,EACIA,wBAExBwS,EAAiBvU,GAAwB+B,EAE/C,OACE,gBAACuS,GAAD,CAAqBC,eAAgBA,EAArC,WACKvU,GACD,sBAAKmK,UAAU,iBAAf,SACE,eAAC,GAAD,MAGDnK,IAAyB+B,GAC1B,sBAAKoI,UAAU,iBAAf,SACE,eAAC,GAAD,UCPKsK,GAXUhM,KAAOgC,IAAV,uZCIPiK,GAJUjM,KAAOgC,IAAV,2DCwCPkK,OAxBf,WAKE,OAJAhT,IACAiG,KACA4I,KAGE,gBAAC,GAAD,WACE,+BACE,eAACoE,GAAD,MAGF,gBAAC,GAAD,WACE,eAAC,IAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,OAGF,+BACE,eAACC,GAAD,U,UCpBOC,eAJuB,CACpCrE,SAAU,KAG+B,SAAAsE,GAAO,OAChDA,EACGC,QAAQnR,GAAa,SAAChC,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC9BrF,EAAM4O,SAAS/K,KAAf,6BACKwB,GADL,IAEE+N,KAAMC,qBAGTF,QAAQlR,GAAe,SAACjC,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC1BiO,EAAatT,EAAM4O,SAAS2E,WAAU,SAAAxE,GAAO,OAAIA,EAAQqE,OAAS/N,EAAQ+N,QAC5EE,GAAc,GAAGtT,EAAM4O,SAAS4E,OAAOF,EAAY,SCW9CL,eAZ2B,CACxC9U,sBAAsB,EACtBsV,6BAA6B,EAC7BtT,iBAAkB,GAClB+N,oBAAoB,EACpBhO,yBAAyB,EACzBqF,gBAAiB,KACjBlD,eAAgB,KAChBC,oBAAqB,EACrBuP,yBAAyB,IAGgB,SAAAqB,GAAO,OAChDA,EACGC,QAAQ9T,GAAuB,SAACW,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QACxCrF,EAAMkO,mBAAqB7I,KAE5B8N,QAAQ7T,GAAyB,SAACU,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC1CrF,EAAM7B,qBAAuBkH,KAE9B8N,QAAQ5T,GAA4B,SAACS,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC7CrF,EAAME,wBAA0BmF,KAEjC8N,QAAQ1T,GAAqB,SAACO,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QACtCrF,EAAMG,iBAAmBkF,KAE1B8N,QAAQzT,GAAoB,SAACM,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QACrCrF,EAAMuF,gBAAkBF,KAEzB8N,QAAQxT,GAAmB,SAACK,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QACpCrF,EAAMqC,eAAiBgD,KAExB8N,QAAQvT,GAA8B,SAACI,GACtCA,EAAMsC,oBAAsBtC,EAAMsC,oBAAsB,KAEzD6Q,QAAQtT,GAA4B,SAACG,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC7CrF,EAAM6R,wBAA0BxM,QC/BvB4N,eAT2B,CACxCvC,YAAa,EACbS,sBAAsB,EACtBzL,mBAAoB,EACpB0L,0BAA0B,EAC1BhL,UAAW,GACX6J,kBAAkB,IAGuB,SAAAiD,GAAO,OAChDA,EACGC,QAAQtU,GAAgB,SAACmB,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QACjCrF,EAAM0Q,YAAcrL,KAErB8N,QAAQpU,GAAyB,SAACiB,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC1CrF,EAAMmR,qBAAuB9L,KAE9B8N,QAAQnU,GAAuB,SAACgB,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QACxCrF,EAAM0F,mBAAqBL,KAE5B8N,QAAQlU,GAA6B,SAACe,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC9CrF,EAAMoR,yBAA2B/L,KAElC8N,QAAQjU,GAAc,SAACc,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC/BrF,EAAMoG,UAAYf,KAEnB8N,QAAQ/T,GAAU,SAACY,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QAC3BrF,EAAMoG,UAAUvC,KAAKwB,MAEtB8N,QAAQhU,GAAqB,SAACa,EAAD,GAAyB,IAAfqF,EAAc,EAAdA,QACtCrF,EAAMiQ,iBAAmB5K,QCjChBqO,GAZDC,YAAe,CAC3BC,QAAS,CACP/E,OACA5O,WACAoG,YAEFwN,WAAY,SAACC,GAAD,OAA0BA,EAAqB,CACzDC,OAAO,EACPC,mBAAmB,OCARC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,eAAC,aAAD,UACE,eAAC,IAAD,CAAUjB,MAAOA,GAAjB,SACE,eAAC,IAAD,UACE,eAAC,GAAD,UAINkB,SAASC,eAAe,SAG1BZ,M,g0DCnBA,OAAe,cAA0B,2C,gCCAzC,OAAe,cAA0B,kC,gCCAzC,OAAe,cAA0B,mC","file":"static/js/main.71d7ff8c.chunk.js","sourcesContent":["import { ethers } from 'ethers';\r\n\r\nexport enum WalletType {\r\n  MetaMask,\r\n}\r\n\r\nexport enum ChainId {\r\n  EthereumMain = \"0x1\",\r\n  RopstenTest = \"0x3\",\r\n  RinkebyTest = \"0x4\",\r\n  GoerliTest = \"0x5\",\r\n  KovanTest = \"0x2a\",\r\n}\r\n\r\nexport interface Chain {\r\n  id: ChainId;\r\n  name: string;\r\n  endpoint: string;\r\n}\r\n\r\nexport interface Wallet {\r\n  type: WalletType;\r\n  name: string;\r\n  logo: string;\r\n  installable: boolean;\r\n  installLink: string;\r\n  isSupported: () => boolean;\r\n}\r\n\r\nexport type BaseProvider = ethers.providers.BaseProvider;\r\nexport type Web3Provider = ethers.providers.Web3Provider;\r\n\r\nexport type AppMessage = {\r\n  type: 'info' | 'success' | 'warn' | 'error',\r\n  content: string;\r\n}\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport { AppDispatch, AppState } from './index'\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<AppState> = useSelector\n","import { ethers } from 'ethers';\r\nimport type { Chain, BaseProvider, Web3Provider } from '@typings/app';\r\n\r\nexport function makeGeneralProvider(chain: Chain): BaseProvider {\r\n  return new ethers.providers.InfuraProvider(\r\n    chain.endpoint,\r\n    process.env.REACT_APP_INFURA_PROJECT_ID,\r\n  );\r\n}\r\n\r\nexport function makeWalletProvider(): Web3Provider {\r\n  return new ethers.providers.Web3Provider(window.ethereum!, \"any\");\r\n}","import type { Wallet } from '@typings/app';\r\nimport { WalletType } from '@typings/app';\r\n\r\nconst METAMASK_LOGO = require('@assets/images/metamask-logo.svg').default;\r\n\r\nconst metamaskWallet: Wallet = Object.freeze({\r\n  type: WalletType.MetaMask,\r\n  name: 'MetaMask',\r\n  logo: METAMASK_LOGO,\r\n  installable: true,\r\n  installLink: 'https://metamask.io/download',\r\n  isSupported() {\r\n    return !!window && !!window?.ethereum?.isMetaMask;\r\n  },\r\n});\r\n\r\nexport default metamaskWallet;","import type { Chain } from '@typings/app';\r\nimport { ChainId } from '@typings/app';\r\n\r\nexport const ETHEREUM_MAINNET_CHAIN: Chain = Object.freeze({\r\n  id: ChainId.EthereumMain,\r\n  name: 'Ethereum Mainnet',\r\n  endpoint: 'mainnet',\r\n});\r\n\r\nexport const ROPSTEN_TESTNET_CHAIN: Chain = Object.freeze({\r\n  id: ChainId.RopstenTest,\r\n  name: 'Ropsten Testnet',\r\n  endpoint: 'ropsten',\r\n});\r\n\r\nexport const RINKEBY_TESTNET_CHAIN: Chain = Object.freeze({\r\n  id: ChainId.RinkebyTest,\r\n  name: 'Rinkeby Testnet',\r\n  endpoint: 'rinkeby',\r\n});\r\n\r\nexport const GOERLI_TESTNET_CHAIN: Chain = Object.freeze({\r\n  id: ChainId.GoerliTest,\r\n  name: 'Goerli Testnet',\r\n  endpoint: 'goerli',\r\n});\r\n\r\nexport const KOVAN_TESTNET_CHAIN: Chain = Object.freeze({\r\n  id: ChainId.KovanTest,\r\n  name: 'Kovan Testnet',\r\n  endpoint: 'kovan',\r\n});","import type { Wallet, Chain } from '@typings/app';\r\nimport METAMASK_WALLET from '@logic/wallets/metamask';\r\nimport { RINKEBY_TESTNET_CHAIN } from '@logic/chains';\r\n\r\nexport const VAULTS_CONTRACT_ADDRESS = '0x116ffe052ab4648F257eBE55c8eED0401c808022';\r\n\r\nexport const SUPPORTED_WALLETS: readonly Wallet[] = Object.freeze([\r\n  METAMASK_WALLET,\r\n]);\r\n\r\nexport const SUPPORTED_CHAINS: readonly Chain[] = Object.freeze([\r\n  RINKEBY_TESTNET_CHAIN,\r\n]);\r\n\r\n\r\nexport const DEFAULT_CHAIN = SUPPORTED_CHAINS[0];\r\n\r\nexport const METAMASK_REJECTED_TRANSACTION_CODE = 4001;","import { SUPPORTED_WALLETS } from '@config/wallets';\r\n\r\nfunction isAnyWalletSupported(): boolean {\r\n  const supportedWallets = SUPPORTED_WALLETS.filter(wallet => wallet.isSupported());\r\n  return !!supportedWallets.length;\r\n}\r\n\r\nexport default isAnyWalletSupported;","import type { Wallet } from '@typings/app';\r\nimport { SUPPORTED_WALLETS } from '@config/wallets';\r\n\r\nfunction getInstallableWallets(): Wallet[] {\r\n  return SUPPORTED_WALLETS.filter(wallet => wallet.installable);\r\n}\r\n\r\nexport default getInstallableWallets;","function getCurrentChainId(): string | null {\r\n  return window?.ethereum?.chainId || null;\r\n}\r\n\r\nexport default getCurrentChainId;\r\n","import { ChainId } from '@typings/app';\r\nimport { SUPPORTED_CHAINS } from '@config/wallets';\r\n\r\nfunction isChainIdSupported(chainId: unknown): boolean {\r\n  return !!SUPPORTED_CHAINS.find(chain => chain.id === chainId as ChainId);\r\n}\r\n\r\nexport default isChainIdSupported;","import { ChainId } from '@typings/app';\r\nimport type { Chain } from '@typings/app';\r\nimport { SUPPORTED_CHAINS } from '@config/wallets';\r\n\r\nfunction getChainById(chainId: unknown): Chain | null {\r\n  return SUPPORTED_CHAINS.find(chain => chain.id === chainId as ChainId) || null;\r\n}\r\n\r\nexport default getChainById;","import { createAction } from '@reduxjs/toolkit';\r\nimport { Vault } from \"@typings/lending\";\r\n\r\nexport const setMaxLTVRatio = createAction<number>('lending/setMaxLTVRatio');\r\nexport const setIsMaxLTVRatioLoading = createAction<boolean>('lending/setIsMaxLTVRatioLoading');\r\nexport const setCollateralPriceUSD = createAction<number>('lending/setCollateralPriceUSD');\r\nexport const setIsCollateralPriceLoading = createAction<boolean>('lending/setIsCollateralPriceLoading');\r\nexport const setAllVaults = createAction<Vault[]>('lending/setAllVaults');\r\nexport const setAreVaultsLoading = createAction<boolean>('lending/setAreVaultsLoading');\r\nexport const addVault = createAction<Vault>('lending/addVault');","import { createAction } from '@reduxjs/toolkit';\r\nimport type { BaseProvider, Web3Provider } from '@typings/app';\r\n\r\nexport const setIsWalletConnecting = createAction<boolean>('wallets/setIsWalletConnecting');\r\nexport const setIsAnyWalletSupported = createAction<boolean>('wallets/setIsAnyWalletSupported');\r\nexport const setIsSupportedChainEnabled = createAction<boolean>('wallets/setIsSupportedChainEnabled');\r\nexport const setIsEthereumProviderConnected = createAction<boolean>('wallets/setIsEthereumProviderConnected');\r\nexport const setConnectedAddress = createAction<string>('wallets/setConnectedAddress');\r\nexport const setGeneralProvider = createAction<BaseProvider | null>('wallets/setGeneralProvider');\r\nexport const setWalletProvider = createAction<Web3Provider | null>('wallets/setWalletProvider');\r\nexport const incrementTransactionsCounter = createAction('wallets/incrementTransactionsCounter');\r\nexport const setIsPerformingTransaction = createAction<boolean>('wallets/setIsPerformingTransaction');\r\n","import { useEffect, useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '@state/hooks';\r\nimport { makeGeneralProvider, makeWalletProvider } from '@logic/ethereum';\r\nimport { DEFAULT_CHAIN } from '@config/wallets';\r\nimport {\r\n  isAnyWalletSupported,\r\n  getCurrentChainId,\r\n  isChainIdSupported,\r\n  getChainById,\r\n} from '@utils/wallets';\r\nimport { setAreVaultsLoading } from '@state/lending/actions';\r\nimport {\r\n  setIsAnyWalletSupported,\r\n  setIsSupportedChainEnabled,\r\n  setIsEthereumProviderConnected,\r\n  setConnectedAddress,\r\n  setIsWalletConnecting,\r\n  setGeneralProvider,\r\n  setWalletProvider,\r\n} from  '../actions';\r\n\r\nfunction useWallets() {\r\n  const dispatch = useAppDispatch();\r\n  const { isSupportedChainEnabled, connectedAddress } = useAppSelector(state => state.wallets);\r\n  const [ isMounted, setIsMounted ] = useState(false);\r\n  const ethereum = window?.ethereum;\r\n\r\n  useEffect(() => {\r\n    dispatch(setIsAnyWalletSupported(isAnyWalletSupported()));\r\n    dispatch(setIsEthereumProviderConnected(!!ethereum?.isConnected()));\r\n\r\n    if (!isAnyWalletSupported()) {\r\n      dispatch(setGeneralProvider(makeGeneralProvider(DEFAULT_CHAIN)));\r\n      dispatch(setAreVaultsLoading(false));\r\n    }\r\n\r\n    // It seems like window.ethereum object takes time on page load to produce values\r\n    setTimeout(() => {\r\n      dispatch(setIsSupportedChainEnabled(isChainIdSupported(getCurrentChainId())));\r\n      dispatch(setConnectedAddress(ethereum?.selectedAddress || ''));\r\n      dispatch(setIsWalletConnecting(false));\r\n      if (isAnyWalletSupported() && isSupportedChainEnabled) {\r\n        setGeneralProviderAccordingToCurrentChain();\r\n      }\r\n      setIsMounted(true);\r\n\r\n      if (!isSupportedChainEnabled || !connectedAddress) {\r\n        dispatch(setAreVaultsLoading(false));\r\n      }\r\n    }, 1000);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isAnyWalletSupported() && isMounted) {\r\n      if (isSupportedChainEnabled) {\r\n        setGeneralProviderAccordingToCurrentChain();\r\n      } else {\r\n        dispatch(setGeneralProvider(null));\r\n      }\r\n    }\r\n  }, [isSupportedChainEnabled]);\r\n\r\n  useEffect(() => {\r\n    const provider = connectedAddress ? makeWalletProvider() : null;\r\n    dispatch(setWalletProvider(provider));\r\n  }, [connectedAddress])\r\n\r\n  useEffect(() => {\r\n    ethereum?.on('connect', handleConnect);\r\n    ethereum?.on('disconnect', handleDisconnect);\r\n    ethereum?.on('accountsChanged', handleAccountsChanged);\r\n    ethereum?.on('chainChanged', handleChainChanged);\r\n\r\n    return () => {\r\n      ethereum?.removeListener('connect', handleConnect);\r\n      ethereum?.removeListener('disconnect', handleDisconnect);\r\n      ethereum?.removeListener('accountsChanged', handleAccountsChanged);\r\n      ethereum?.removeListener('chainChanged', handleChainChanged);\r\n    }\r\n  }, [])\r\n\r\n  function handleConnect() {\r\n    dispatch(setIsEthereumProviderConnected(!!ethereum?.isConnected()));\r\n  }\r\n\r\n  function handleDisconnect() {\r\n    dispatch(setIsEthereumProviderConnected(false));\r\n  }\r\n\r\n  function handleAccountsChanged(accounts: string[]) {\r\n    dispatch(setConnectedAddress(accounts[0] || ''));\r\n  }\r\n\r\n  function handleChainChanged(chainId: string) {\r\n    dispatch(setIsSupportedChainEnabled(isChainIdSupported(chainId)));\r\n  }\r\n\r\n  function setGeneralProviderAccordingToCurrentChain(): void {\r\n    const enabledChain = getChainById(getCurrentChainId())!;\r\n    if (!enabledChain) return; \r\n    const provider = makeGeneralProvider(enabledChain);\r\n    dispatch(setGeneralProvider(provider));\r\n  }\r\n}\r\n\r\nexport default useWallets;","import { ethers, BigNumber } from 'ethers';\r\nimport type { Web3Provider } from \"@typings/app\";\r\n\r\nexport async function fetchEtherBalance(provider: Web3Provider) {\r\n  const signer = provider.getSigner();\r\n  const balanceBigNumber: BigNumber = await signer.getBalance();\r\n  return Number(ethers.utils.formatUnits(balanceBigNumber.toString()));\r\n}","import { createAction } from '@reduxjs/toolkit';\r\nimport { AppMessage } from '@typings/app';\r\n\r\nexport const showMessage = createAction<AppMessage>('app/showMessage');\r\nexport const removeMessage = createAction<AppMessage & { uuid: string }>('app/removeMessage');\r\n","import { useEffect, useState } from 'react';\r\nimport type { Web3Provider } from \"@typings/app\";\r\nimport { fetchEtherBalance } from '@api/web3';\r\nimport { useAppDispatch, useAppSelector } from '@state/hooks';\r\nimport { showMessage } from '@state/app/actions';\r\n\r\nfunction useEtherBalance() {\r\n  const dispatch = useAppDispatch();\r\n  const [ etherBalance, setEtherBalance ] = useState(0);\r\n  const { connectedAddress, walletProvider, transactionsCounter } = useAppSelector(state => state.wallets);\r\n\r\n  useEffect(() => {\r\n    if (connectedAddress && walletProvider) {\r\n      fetchBalance(walletProvider);\r\n    }\r\n  }, [connectedAddress, walletProvider, transactionsCounter]);\r\n\r\n  async function fetchBalance(provider: Web3Provider) {\r\n    try {\r\n      const balance = await fetchEtherBalance(provider);\r\n      setEtherBalance(balance);\r\n    } catch (err) {\r\n      dispatch(showMessage({\r\n        type: 'error',\r\n        content: `Couldn't fetch ether balance`,\r\n      }));\r\n    }\r\n  }\r\n\r\n  return etherBalance;\r\n}\r\n\r\nexport default useEtherBalance;","import { ethers } from 'ethers';\r\nimport { VaultResponse, Vault } from \"@typings/lending\";\r\n\r\nfunction convertVaultResponseToVault(vaultResponse: VaultResponse): Vault {\r\n  return {\r\n    owner: vaultResponse.owner,\r\n    debt: Number(ethers.utils.formatUnits(vaultResponse.debt.toString())),\r\n    collateral: Number(ethers.utils.formatUnits(vaultResponse.collateral.toString())),\r\n  }\r\n}\r\n\r\nexport default convertVaultResponseToVault;\r\n","import { ethers } from 'ethers';\r\nimport { BaseProvider } from \"@typings/app\";\r\nimport  vaultsAbi from '@abis/vaults.json';\r\nimport { VAULTS_CONTRACT_ADDRESS } from '@config/wallets';\r\n\r\nfunction makeContract(provider: BaseProvider) {\r\n  return new ethers.Contract(\r\n    VAULTS_CONTRACT_ADDRESS,\r\n    vaultsAbi,\r\n    provider,\r\n  );\r\n}\r\n\r\nexport default makeContract;\r\n","import { ethers } from 'ethers';\r\nimport { BaseProvider, Web3Provider } from \"@typings/app\";\r\nimport { Vault } from \"@typings/lending\";\r\nimport { convertVaultResponseToVault } from '@utils/lending';\r\nimport makeContract from './makeContract';\r\n\r\nexport async function fetchMaxLTVRatio(provider: BaseProvider): Promise<number> {\r\n  const contract = makeContract(provider);\r\n  const ltvRatioBigNumber = await contract.ltvRatio();\r\n  return Number(ethers.utils.formatUnits(ltvRatioBigNumber.toString()));\r\n}\r\n\r\nexport async function fetchCollateralPriceUSD(provider: BaseProvider): Promise<number> {\r\n  const contract = makeContract(provider);\r\n  const collateralPriceBigNumber = await contract.collateralPrice();\r\n  return Number(ethers.utils.formatUnits(collateralPriceBigNumber.toString()));\r\n}\r\n\r\nexport async function fetchVaults(provider: BaseProvider): Promise<Vault[]> {\r\n  const contract = makeContract(provider);\r\n  const vaultsCount: number = await contract.vaultsCount();\r\n\r\n  const vaultsRequests = [];\r\n\r\n  for (let i = 1; i <= vaultsCount; i++) {\r\n    vaultsRequests.push(contract.vaults(i));\r\n  }\r\n\r\n  const requestsResults = await Promise.allSettled(vaultsRequests);\r\n\r\n  const fulfilledResults = requestsResults.filter(responseItem => responseItem.status === 'fulfilled') as any;\r\n\r\n  // No requests got to be successful\r\n  if (!fulfilledResults.length && requestsResults.length) {\r\n    throw new Error();\r\n  }\r\n\r\n  return fulfilledResults.map((result: any) => result.value).map(convertVaultResponseToVault);\r\n}\r\n\r\ntype VaultDepositParams = {\r\n  depositAmount: number;\r\n  debtAmount: number;\r\n}\r\n\r\nexport async function depositToVault(provider: Web3Provider, {\r\n  depositAmount,\r\n  debtAmount,\r\n}: VaultDepositParams) {\r\n  let contract = makeContract(provider);\r\n  contract = contract.connect(provider.getSigner());\r\n\r\n  const etherAmount = ethers.utils.parseUnits(String(depositAmount), 'ether');\r\n  const debtAmountWei = ethers.utils.parseUnits(String(debtAmount), 'ether');\r\n\r\n  const response = await contract.deposit(debtAmountWei, {\r\n    value: etherAmount,\r\n  });\r\n\r\n  return response;\r\n}","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport {\r\n  fetchMaxLTVRatio,\r\n  fetchCollateralPriceUSD,\r\n  fetchVaults,\r\n  depositToVault,\r\n} from '@api/smart-contracts/vaults'\r\nimport { METAMASK_REJECTED_TRANSACTION_CODE } from '@config/wallets';\r\nimport { showMessage } from '@state/app/actions';\r\nimport { \r\n  incrementTransactionsCounter,\r\n  setIsPerformingTransaction,\r\n} from '@state/wallets/actions';\r\nimport {\r\n  setIsMaxLTVRatioLoading,\r\n  setIsCollateralPriceLoading,\r\n  setMaxLTVRatio,\r\n  setCollateralPriceUSD,\r\n  setAreVaultsLoading,\r\n  setAllVaults,\r\n  addVault,\r\n} from './actions';\r\n\r\nexport const loadMaxLTVRatio = createAsyncThunk(\r\n  'lending/loadMaxLTVRatio',\r\n  async (payload, { dispatch, getState }) => {\r\n    try {\r\n      dispatch(setIsMaxLTVRatioLoading(true));\r\n      const { wallets } = getState() as any;\r\n\r\n      if (!wallets.generalProvider) throw new Error();\r\n      const LTVRatio = await fetchMaxLTVRatio(wallets.generalProvider);\r\n\r\n      dispatch(setMaxLTVRatio(LTVRatio));\r\n    } catch (err) {\r\n      dispatch(showMessage({\r\n        type: 'error',\r\n        content: `Couldn't fetch max LTV ratio, please try reload the page.`,\r\n      }));\r\n    } finally {\r\n      dispatch(setIsMaxLTVRatioLoading(false));\r\n    }\r\n  },\r\n);\r\n\r\nexport const loadCollateralPrice = createAsyncThunk(\r\n  'lending/loadCollateralPrice',\r\n  async (payload, { dispatch, getState }) => {\r\n    try {\r\n      dispatch(setIsCollateralPriceLoading(true));\r\n      const { wallets } = getState() as any;\r\n\r\n      if (!wallets.generalProvider) throw new Error();\r\n      const collateralPriceUSD = await fetchCollateralPriceUSD(wallets.generalProvider);\r\n\r\n      dispatch(setCollateralPriceUSD(collateralPriceUSD));\r\n    } catch (err) {\r\n      dispatch(showMessage({\r\n        type: 'error',\r\n        content: `Couldn't fetch collateral price, please try reload the page.`,\r\n      }));\r\n    } finally {\r\n      dispatch(setIsCollateralPriceLoading(false));\r\n    }\r\n  },\r\n);\r\n\r\nexport const loadVaults = createAsyncThunk(\r\n  'lending/loadVaults',\r\n  async (payload, { dispatch, getState }) => {\r\n    try {\r\n      dispatch(setAreVaultsLoading(true));\r\n      const { wallets } = getState() as any;\r\n\r\n      if (!wallets.walletProvider) throw new Error();\r\n      const vaults = await fetchVaults(wallets.walletProvider);\r\n\r\n      dispatch(setAllVaults(vaults));\r\n    } catch (err) {\r\n      dispatch(showMessage({\r\n        type: 'error',\r\n        content: `Couldn't fetch vaults. Please reload the page.`,\r\n      }));\r\n    } finally {\r\n      dispatch(setAreVaultsLoading(false));\r\n    }\r\n  },\r\n);\r\n\r\ntype BorrowTransactionParams = {\r\n  collateralAmount: number;\r\n  debtAmount: number;\r\n}\r\nexport const borrow = createAsyncThunk(\r\n  'lending/borrow',\r\n  async (payload: BorrowTransactionParams, { dispatch, getState }) => {\r\n    try {\r\n      dispatch(setIsPerformingTransaction(true));\r\n\r\n      const { wallets } = getState() as any;\r\n\r\n      if (!wallets.walletProvider) throw new Error();\r\n      await depositToVault(wallets.walletProvider, {\r\n        depositAmount: payload.collateralAmount,\r\n        debtAmount: payload.debtAmount,\r\n      });\r\n\r\n      dispatch(addVault({\r\n        owner: wallets.connectedAddress,\r\n        debt: payload.debtAmount,\r\n        collateral: payload.collateralAmount,\r\n      }));\r\n\r\n      dispatch(incrementTransactionsCounter());\r\n    } catch (err: any) {\r\n      if (err?.code !== METAMASK_REJECTED_TRANSACTION_CODE) {\r\n        dispatch(showMessage({\r\n          type: 'error',\r\n          content: `Failed to dispatch transaction, try again.`,\r\n        }));\r\n      }\r\n    } finally {\r\n      dispatch(setIsPerformingTransaction(false));\r\n    }\r\n  },\r\n);","import { useEffect } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '@state/hooks'\r\nimport {\r\n  setMaxLTVRatio,\r\n  setCollateralPriceUSD,\r\n  setIsMaxLTVRatioLoading,\r\n  setIsCollateralPriceLoading,\r\n  setAllVaults,\r\n  setAreVaultsLoading,\r\n} from '../actions';\r\nimport {\r\n  loadMaxLTVRatio,\r\n  loadCollateralPrice,\r\n  loadVaults,\r\n} from '../thunks';\r\n\r\nfunction useLending() {\r\n  const dispatch = useAppDispatch();\r\n  const { generalProvider, walletProvider, isSupportedChainEnabled } = useAppSelector(state => state.wallets);\r\n\r\n  useEffect(() => {\r\n    if (generalProvider) {\r\n      dispatch(loadMaxLTVRatio());\r\n      dispatch(loadCollateralPrice());\r\n    } else {\r\n      dispatch(setMaxLTVRatio(0));\r\n      dispatch(setCollateralPriceUSD(0));\r\n      dispatch(setIsMaxLTVRatioLoading(false));\r\n      dispatch(setIsCollateralPriceLoading(false));\r\n    }\r\n  }, [generalProvider]);\r\n\r\n  useEffect(() => {\r\n    if (walletProvider && isSupportedChainEnabled) {\r\n      dispatch(loadVaults());\r\n    } else {\r\n      dispatch(setAllVaults([]));\r\n    }\r\n  }, [walletProvider, isSupportedChainEnabled]);\r\n}\r\n\r\nexport default useLending;","function sortASC<T>(param1: T, param2: T): 1 | -1 {\n  return param1 > param2 ? 1 : -1;\n}\n\nexport default sortASC;\n","import { useAppSelector } from '@state/hooks';\r\nimport { sortASC } from '@utils/sort-callbacks'\r\n\r\nfunction useUserVaults() {\r\n  const { allVaults } = useAppSelector(state => state.lending);\r\n  const { connectedAddress } = useAppSelector(state => state.wallets);\r\n\r\n  const userVaults = allVaults.filter(vault => {\r\n    return vault.owner.toLowerCase() === connectedAddress.toLowerCase();\r\n  }).sort(sortASC);\r\n\r\n  return { userVaults };\r\n}\r\n\r\nexport default useUserVaults;\r\n","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nconst LOGO_IMG = require('@assets/images/logo.svg').default;\r\n\r\nexport interface UiLogoProps {\r\n  width?: string;\r\n};\r\n\r\nconst UiLogo: FC<UiLogoProps> = (props) => {\r\n  return (\r\n    <LogoStyled\r\n      src={LOGO_IMG}\r\n      alt=\"\"\r\n      width={props.width}\r\n    />\r\n  ); \r\n}\r\n\r\nconst LogoStyled = styled.img<{\r\n  width?: string;\r\n}>`\r\n  user-select: none;\r\n  width: ${({ width }) => width ? width : '62px'};\r\n`;\r\n\r\nexport default UiLogo;","import React, { FC, ReactNode } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\ntype Mode = 'router' | 'html' | 'empty';\r\ntype LinkProps = {\r\n  to: string,\r\n  href?: string,\r\n  target?: '_blank',\r\n}\r\n\r\nexport interface UiLinkProps {\r\n  children: ReactNode,\r\n  to: string,\r\n  mode?: Mode,\r\n  theme?: 'default' | 'info',\r\n  openHtmlLinkSeparately?: boolean,\r\n  active?: boolean;\r\n  onClick?: () => void;\r\n}\r\n\r\nconst UiLink: FC<UiLinkProps> = ({\r\n  children,\r\n  mode = 'router',\r\n  theme = 'default',\r\n  to,\r\n  openHtmlLinkSeparately = false,\r\n  active,\r\n  onClick = () => {},\r\n}) => {\r\n  const wrapperElementsMap = {\r\n    router: NavLink,\r\n    html: 'a',\r\n    empty: 'div',\r\n  }\r\n\r\n  const linkProps: LinkProps = { to: '' };\r\n\r\n  if (mode === 'router') linkProps.to = to;\r\n  if (mode === 'html') {\r\n    linkProps.href = to;\r\n    if (openHtmlLinkSeparately) linkProps.target = '_blank';\r\n  }\r\n\r\n  function handleKeyPress(e: React.KeyboardEvent): void {\r\n    if (e.key === 'Enter') onClick();\r\n  } \r\n\r\n  return (\r\n    <UiLinkWrapperStyled\r\n      as={wrapperElementsMap[mode]}\r\n      theme={theme}\r\n      { ...linkProps }\r\n      tabIndex={0}\r\n      className={`${ active && 'active'}`}\r\n      onClick={onClick}\r\n      onKeyPress={handleKeyPress}\r\n    >\r\n      { children }\r\n    </UiLinkWrapperStyled>\r\n  ); \r\n}\r\n\r\nUiLink.defaultProps = {\r\n  mode: 'router',\r\n  theme: 'default',\r\n  openHtmlLinkSeparately: false,\r\n  active: false,\r\n  onClick: () => {},\r\n}\r\n\r\nconst UiLinkWrapperStyled = styled(NavLink)<{\r\n  theme: 'default' | 'info'\r\n}>`\r\n  --link-color: var(--app-default-link-color);\r\n  --link-hover-color: var(--app-default-active-link-color);\r\n\r\n  color: var(--link-color);\r\n  text-decoration: none;\r\n  transition: 0.2s all;\r\n  user-select: none;\r\n  cursor: pointer;\r\n\r\n  &:hover, &.active {\r\n    color: var(--link-hover-color);\r\n  }\r\n\r\n  &:not(.active):active {\r\n    opacity: 0.7;\r\n  }\r\n\r\n  ${({ theme }) => theme === 'info' ? `\r\n    --link-color: rgba(var(--blue-color-1-rgb-string), 0.6);\r\n    --link-hover-color: var(--info-color);\r\n  ` : ``}\r\n`;\r\n\r\nexport default UiLink;","import styled from 'styled-components';\r\n\r\nconst WrapperStyled = styled.div`\r\n  & .field-label {\r\n    margin-bottom: 16px;\r\n    padding-left: 8px;\r\n  }\r\n`;\r\n\r\nexport default WrapperStyled;\r\n","import styled from 'styled-components';\r\n\r\nconst FieldWrapperStyled = styled.div<{\r\n  disabled?: boolean;\r\n  viewOnly?: boolean;\r\n  invalid?: boolean;\r\n}>`\r\n  border: 1px solid var(--dark-color-2);\r\n  background: var(--dark-color-2);\r\n  display: flex;\r\n  align-items: center;\r\n  height: 55px;\r\n  border-radius: 12px;\r\n  padding: 0 16px;\r\n  transition: 0.2s all;\r\n\r\n  ${({ disabled }) => disabled ? `\r\n    &, & * {\r\n      cursor: not-allowed;\r\n    }\r\n  ` : ``}\r\n\r\n  ${({ invalid }) => invalid ? `\r\n    border-color: var(--danger-color);\r\n  ` : `\r\n    &:focus-within {\r\n      border-color: var(--alternative-color);\r\n    }\r\n  `}\r\n`;\r\n\r\nexport default FieldWrapperStyled;\r\n","import styled from 'styled-components';\r\n\r\nconst FieldContainerStyled = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto 1fr auto;\r\n  align-items: center;\r\n\r\n  & .left-additions {\r\n    margin-right: 16px;\r\n  }\r\n\r\n  & .right-additions {\r\n    margin-left: 16px;\r\n  }\r\n`;\r\n\r\nexport default FieldContainerStyled;","import styled from 'styled-components';\r\n\r\nconst FieldStyled = styled.input<{ \r\n  disabled?: boolean;\r\n  viewOnly?: boolean;\r\n}>`\r\n  color: var(--alternative-color);\r\n  background: transparent;\r\n  font-size: 24px;\r\n  line-height: 35px;\r\n  font-weight: 500;\r\n  outline: none;\r\n  border: none;\r\n  width: 100%;\r\n\r\n  ${({ disabled, viewOnly }) => (disabled || viewOnly) ? `\r\n    color: var(--dark-color-4);\r\n  ` : ``}\r\n\r\n  ${({ viewOnly }) => viewOnly ? `\r\n    cursor: text;\r\n  ` : ``}\r\n\r\n  &::placeholder {\r\n    color: var(--dark-color-2);\r\n  }\r\n`;\r\n\r\nexport default FieldStyled;","const removeLeadingZeros = (input: string): string => {\n  if (Number.isNaN(Number(input))) {\n    return '0';\n  }\n  const dot = input.includes('.') ? '.' : '';\n  const [wholeNumbers, decimal] = input.split('.');\n  const result = `${parseInt(wholeNumbers, 10)}${dot}${decimal || ''}`;\n\n  // Negative null minus is neglected by template literals\n  if (wholeNumbers.length === 2 && wholeNumbers[0] === '-' && wholeNumbers[1] === '0') {\n    return `-${result}`;\n  }\n\n  return result;\n};\n\nexport default removeLeadingZeros;\n","import { useState } from 'react';\r\nimport { removeLeadingZeros } from '@utils/common';\r\n\r\ntype ValidationSuccessCallback = (validValue: string) => void;\r\n\r\ninterface HookParams {\r\n  numbersOnly: boolean;\r\n  minNumber: number;\r\n  maxNumber: number;\r\n  onChange: (v: string) => void;\r\n}\r\n\r\nfunction useValidateInput({ numbersOnly, minNumber, maxNumber, onChange }: HookParams) {\r\n  const [ prevValidValue, setPrevValidValue ] = useState('');\r\n\r\n  function validateInput(examinatedValue: string, onSuccessCallback?: ValidationSuccessCallback): void {\r\n    if (numbersOnly) {\r\n      validateNumberInput(examinatedValue, onSuccessCallback);\r\n    } else if (onSuccessCallback) {\r\n      onSuccessCallback(examinatedValue);\r\n    }\r\n  }\r\n\r\n  function validateNumberInput(examinatedValue: string, onSuccessCallback?: ValidationSuccessCallback): void {\r\n    const inputNumber = Number(examinatedValue);\r\n\r\n    if (Number.isNaN(Number(prevValidValue)) || prevValidValue === '') {\r\n      setPrevValidValue(minNumber.toString());\r\n    }\r\n\r\n    if (Number.isNaN(inputNumber)) {\r\n      onChange(prevValidValue);\r\n      return;\r\n    }\r\n\r\n    if (examinatedValue === '') {\r\n      onChange(minNumber.toString());\r\n      return;\r\n    }\r\n\r\n    if (inputNumber < minNumber) {\r\n      onChange(minNumber.toString());\r\n      return;\r\n    }\r\n\r\n    if (inputNumber > maxNumber) {\r\n      onChange(maxNumber.toString());\r\n      return;\r\n    }\r\n\r\n    setPrevValidValue(removeLeadingZeros(examinatedValue));\r\n\r\n    if (onSuccessCallback) {\r\n      onSuccessCallback(removeLeadingZeros(examinatedValue));\r\n    }\r\n  }\r\n\r\n  return validateInput;\r\n}\r\n\r\nexport default useValidateInput;","import React, { FC, ReactNode, useEffect, useRef } from 'react';\r\nimport { WrapperStyled, FieldWrapperStyled, FieldContainerStyled, FieldStyled } from './styleds/index';\r\nimport useValidateInput from './hooks/useValidateInput';\r\n\r\nexport interface UiFieldProps {\r\n  value: string;\r\n  children?: ReactNode;\r\n  leftAdditions?: ReactNode;\r\n  rightAdditions?: ReactNode;\r\n  type?: 'text' | 'password';\r\n  placeholder?: string;\r\n  disabled?: boolean;\r\n  autoFocus?: boolean;\r\n  invalid?: boolean;\r\n  viewOnly?: boolean;\r\n  numbersOnly?: boolean;\r\n  minNumber?: number;\r\n  maxNumber?: number;\r\n  onChange?: (value: string) => void;\r\n  onFocus?: () => void;\r\n  onBlur?: () => void;\r\n  onKeyDown?: (e: React.KeyboardEvent) => void,\r\n};\r\n\r\nconst UiField: FC<UiFieldProps> = ({\r\n  value,\r\n  children,\r\n  type = 'text',\r\n  numbersOnly = false,\r\n  minNumber = 0,\r\n  maxNumber = 1000000000,\r\n  onFocus = () => {},\r\n  onBlur = () => {},\r\n  onChange = (value: string) => {},\r\n  onKeyDown = (e: React.KeyboardEvent) => {},\r\n  ...props\r\n}) => {\r\n  const field = useRef<HTMLInputElement>(null);\r\n\r\n  const validateInput = useValidateInput({\r\n    numbersOnly,\r\n    minNumber,\r\n    maxNumber,\r\n    onChange,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (props.autoFocus) field.current?.focus();\r\n  }, [props.autoFocus]);\r\n\r\n  useEffect(() => {\r\n    if (numbersOnly) validateInput(value);\r\n  }, [numbersOnly])\r\n\r\n  function handleOnChange(e: React.FormEvent<HTMLInputElement>) {\r\n    validateInput(e.currentTarget.value, (validValue) => {\r\n      onChange(validValue);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <WrapperStyled>\r\n      { children && (\r\n        <div className=\"field-label\">\r\n          { children }\r\n        </div>\r\n      )}\r\n\r\n      <FieldWrapperStyled\r\n        invalid={props.invalid}\r\n        viewOnly={props.viewOnly}\r\n        disabled={props.disabled}\r\n      >\r\n        <FieldContainerStyled>\r\n          { props.leftAdditions && (\r\n            <div className=\"left-additions\">\r\n              { props.leftAdditions }\r\n            </div>\r\n          )}\r\n\r\n          <div>\r\n            <FieldStyled\r\n              ref={field}\r\n              value={value}\r\n              type={type}\r\n              placeholder={props.placeholder}\r\n              disabled={props.disabled || props.viewOnly}\r\n              viewOnly={props.viewOnly}\r\n              onFocus={onFocus}\r\n              onBlur={onBlur}\r\n              onChange={handleOnChange}\r\n              onKeyDown={onKeyDown}\r\n            />\r\n          </div>\r\n\r\n          { props.rightAdditions && (\r\n            <div className=\"right-additions\">\r\n              { props.rightAdditions }\r\n            </div>\r\n          )}\r\n        </FieldContainerStyled>\r\n      </FieldWrapperStyled>\r\n    </WrapperStyled>\r\n  ); \r\n}\r\n\r\nUiField.defaultProps = {\r\n  type: 'text',\r\n  placeholder: '',\r\n  disabled: false,\r\n  autoFocus: false,\r\n  invalid: false,\r\n  viewOnly: false,\r\n  numbersOnly: false,\r\n  minNumber: 0,\r\n  maxNumber: 1000000000,\r\n  onFocus: () => {},\r\n  onBlur: () => {},\r\n  onChange: (value: string) => {},\r\n  onKeyDown: (e: React.KeyboardEvent) => {},\r\n}\r\n\r\nexport default UiField;","import { FC, ReactNode, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { UiHalfCirclesSpinner } from '@components/ui/index';\r\n\r\nexport interface UiButtonProps {\r\n  children: ReactNode;\r\n  mode?: 'default';\r\n  theme?: 'default' | 'primary';\r\n  size?: 'small' | 'medium' | 'large';\r\n  disabled?: boolean;\r\n  isLoading?: boolean;\r\n  height?: string;\r\n  width?: string;\r\n  onClick?: () => unknown;\r\n};\r\n\r\nconst UiButton: FC<UiButtonProps> = ({\r\n  children,\r\n  mode = 'default',\r\n  theme = 'default',\r\n  size = 'medium',\r\n  disabled = false,\r\n  isLoading = false,\r\n  onClick = () => {},\r\n  ...props\r\n}) => {\r\n  const button = useRef<HTMLDivElement>(null);\r\n\r\n  function handleClick(): void {\r\n    button.current?.blur();\r\n    onClick();\r\n  }\r\n\r\n  function handleKeyPress(e: React.KeyboardEvent): void {\r\n    if (e.key === 'Enter' && !disabled && !isLoading) handleClick()\r\n  } \r\n\r\n  return (\r\n    <ButtonWrapperStyled\r\n      ref={button}\r\n      tabIndex={disabled || isLoading ? -1 : 0}\r\n      mode={mode}\r\n      theme={theme}\r\n      size={size}\r\n      disabled={disabled}\r\n      isLoading={isLoading}\r\n      height={props.height}\r\n      width={props.width}\r\n      onClick={disabled || isLoading ? () => {} : handleClick}\r\n      onKeyPress={handleKeyPress}\r\n    >\r\n      { isLoading ? (\r\n        <UiHalfCirclesSpinner size=\"20px\" />\r\n      ) : children }\r\n    </ButtonWrapperStyled>\r\n  ); \r\n}\r\n\r\nUiButton.defaultProps = {\r\n  disabled: false,\r\n  mode: 'default',\r\n  theme: 'default',\r\n  size: 'medium',\r\n  isLoading: false,\r\n  height: '',\r\n  width: '',\r\n  onClick: () => {},\r\n}\r\n\r\nconst ButtonWrapperStyled = styled.div<{\r\n  mode?: 'default';\r\n  theme?: 'default' | 'primary';\r\n  size?: 'small' | 'medium' | 'large';\r\n  height?: string;\r\n  width?: string;\r\n  disabled?: boolean;\r\n  isLoading?: boolean;\r\n}>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-sizing: border-box;\r\n  user-select: none;\r\n  transition: 0.2s all;\r\n  width: ${({ width }) => width || '100%'};\r\n  height: ${({ height }) => height ? `${height} !important` : 'auto'};\r\n  cursor: ${({ disabled }) => disabled ? \"not-allowed\" : \"pointer\"};\r\n  ${({ isLoading }) => isLoading ? \"cursor: default;\" : \"\"};\r\n\r\n  ${({ size }) => size === 'small' ? `\r\n    height: 36px;\r\n    padding: 0 12px;\r\n    font-size: 14px;\r\n  ` : ``}\r\n\r\n  ${({ size }) => size === 'medium' ? `\r\n    height: 55px;\r\n    padding: 0 16px;\r\n    font-size: 18px;\r\n  ` : ``}\r\n\r\n  ${({ size }) => size === 'large' ? `\r\n    height: 64px;\r\n    padding: 0 20px;\r\n    font-size: 20px;\r\n  ` : ``}\r\n\r\n  ${({ mode, disabled, theme, isLoading }) => mode === 'default' ? `\r\n    --bg-color: transparent;\r\n    --text-color: var(--alternative-color);\r\n\r\n    color: var(--text-color);\r\n    background: var(--bg-color);\r\n    border-radius: 12px;\r\n    font-weight: 600;\r\n\r\n    ${disabled ? `\r\n      opacity: 0.5;\r\n    ` : ``}\r\n    \r\n    ${ !disabled && !isLoading ? `\r\n      &:hover, &:focus {\r\n        opacity: 0.8;\r\n      }\r\n\r\n      &:active {\r\n        opacity: 0.5;\r\n      }\r\n    ` : ``}\r\n\r\n    ${theme === 'default' ? `\r\n      --bg-color: var(--dark-color-2);\r\n    ` : ``}\r\n    \r\n    ${theme === 'primary' ? `\r\n      --bg-color: linear-gradient(89.93deg, #D94CD6 -57.62%, #51B6F9 173.96%, rgba(217, 76, 214, 0) 173.98%);;\r\n    `: ``}\r\n  ` : ``}\r\n`;\r\n\r\nexport default UiButton;","import { FC, ReactNode } from 'react';\r\nimport styled from 'styled-components';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faInfoCircle, faExclamationTriangle, faCheckCircle, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\ntype AlertTheme = 'info' | 'warning' | 'danger' | 'success';\r\n\r\nexport interface UiAlertProps {\r\n  children: ReactNode;\r\n  theme?: AlertTheme;\r\n};\r\n\r\nconst UiAlert: FC<UiAlertProps> = ({\r\n  theme = 'info',\r\n  ...props\r\n}) => {\r\n  const alertIconsMap = {\r\n    info: faInfoCircle,\r\n    success: faCheckCircle,\r\n    warning: faExclamationTriangle,\r\n    danger: faTimesCircle,\r\n  }\r\n\r\n  return (\r\n    <AlertWrapperStyled theme={theme}>\r\n      <FontAwesomeIcon className=\"alert-icon\" icon={alertIconsMap[theme]} />\r\n\r\n      <div>\r\n        { props.children }\r\n      </div>\r\n    </AlertWrapperStyled>\r\n  )\r\n}\r\n\r\nUiAlert.defaultProps = {\r\n  theme: 'info',\r\n}\r\n\r\nconst AlertWrapperStyled = styled.div<{\r\n  theme: AlertTheme;\r\n}>`\r\n  --alert-theme-color: var(--dark-color-4);\r\n  border-radius: 20px;\r\n  background: var(--dark-color-3);\r\n  padding: 12px 20px;\r\n  border: 1px solid var(--alert-theme-color);\r\n  color: var(--alternative-color);\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & .alert-icon {\r\n    font-size: 24px;\r\n    margin-right: 16px;\r\n    color: var(--alert-theme-color);\r\n  }\r\n\r\n  ${({ theme }) => theme === 'info' ? `\r\n    --alert-theme-color: var(--info-color);\r\n  ` : ``}\r\n\r\n  ${({ theme }) => theme === 'success' ? `\r\n    --alert-theme-color: var(--success-color);\r\n  ` : ``}\r\n\r\n  ${({ theme }) => theme === 'danger' ? `\r\n    --alert-theme-color: var(--danger-color);\r\n  ` : ``}\r\n\r\n  ${({ theme }) => theme === 'warning' ? `\r\n    --alert-theme-color: var(--warning-color);\r\n  ` : ``}\r\n`;\r\n\r\nexport default UiAlert;","import { FC } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nexport interface UiHalfCirclesSpinnerProps {\r\n  theme?: 'alternative' | 'info' | 'success' | 'warning' | 'danger';\r\n  customColor?: string;\r\n  size?: string;\r\n  speed?: string;\r\n};\r\n\r\nconst UiHalfCirclesSpinner: FC<UiHalfCirclesSpinnerProps> = ({\r\n  theme,\r\n  customColor,\r\n  size,\r\n  speed,\r\n}) => {\r\n  return (\r\n    <SpinnerStyled\r\n      theme={theme}\r\n      customColor={customColor}\r\n      size={size}\r\n      speed={speed}\r\n    />\r\n  ); \r\n}\r\n\r\nUiHalfCirclesSpinner.defaultProps = {\r\n  theme: 'alternative',\r\n  customColor: '',\r\n  size: '32px',\r\n  speed: '1.2s',\r\n}\r\n\r\nconst spin = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst SpinnerStyled = styled.div<{\r\n  theme?: 'alternative' | 'info' | 'success' | 'warning' | 'danger';\r\n  customColor?: string;\r\n  size?: string;\r\n  speed?: string;\r\n}>`\r\n  display: inline-block;\r\n\r\n  ${({ size }) => `\r\n    width: ${size};\r\n    height: ${size};  \r\n  `}\r\n\r\n  &:after {\r\n    content: ' ';\r\n    display: block;\r\n\r\n    ${({ size }) => `\r\n      width: ${size};\r\n      height: ${size};  \r\n    `}\r\n\r\n    border-radius: 50%;\r\n    ${({ theme, customColor }) => `\r\n      border: 2px solid ${customColor || `var(--${theme}-color)`};\r\n      border-color: ${customColor || `var(--${theme}-color)`} transparent ${customColor || `var(--${theme}-color)`} transparent;\r\n    `}\r\n    animation: ${spin} ${({ speed }) => speed } linear infinite;\r\n  }\r\n`;\r\n\r\nexport default UiHalfCirclesSpinner;","import { FC } from 'react';\r\nimport Skeleton, { SkeletonTheme, SkeletonProps } from \"react-loading-skeleton\";\r\n\r\nexport type UiSkeletonProps = SkeletonProps & {\r\n  color?: string;\r\n  highlightColor?: string;\r\n};\r\n\r\nconst UiSkeleton: FC<UiSkeletonProps> = (props) => {\r\n  return (\r\n    <SkeletonTheme\r\n      color={props.color}\r\n      highlightColor={props.highlightColor}\r\n    >\r\n      <Skeleton {...props} />\r\n    </SkeletonTheme>\r\n  ); \r\n}\r\n\r\nUiSkeleton.defaultProps = {\r\n  color: '#202020',\r\n  highlightColor: '#444444',\r\n}\r\n\r\nexport default UiSkeleton;","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { UiLink } from '@components/ui/index';\r\n\r\nconst Navigation: FC = () => {\r\n  return (\r\n    <NavbarWrapperStyled>\r\n      <div className=\"navbar-item\">\r\n        <UiLink to=\"/vaults\">Vaults</UiLink>\r\n      </div>\r\n      <div className=\"navbar-item\">\r\n        <UiLink to=\"/borrow\">Borrow</UiLink>\r\n      </div>\r\n    </NavbarWrapperStyled>\r\n  ); \r\n}\r\n\r\nconst NavbarWrapperStyled = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & .navbar-item {\r\n    margin-right: 30px;\r\n\r\n    &:last-child {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Navigation;","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { setIsWalletConnecting } from './actions';\r\n\r\nexport const connectAccount = createAsyncThunk(\r\n  'wallets/connectAccount',\r\n  async (payload, { dispatch }) => {\r\n    const ethereum = window?.ethereum;\r\n\r\n    try {\r\n      dispatch(setIsWalletConnecting(true));\r\n      await ethereum?.request({ method: 'eth_requestAccounts' });\r\n    } catch (err) {}\r\n    finally {\r\n      dispatch(setIsWalletConnecting(false));\r\n    }\r\n  },\r\n);","function shortenStr(str: string, startSymbols = 3, endSymbols = 0, separation = '...'): string {\n  if (str.length < startSymbols + endSymbols) return str;\n\n  const openingLetters = str.slice(0, startSymbols);\n  const closingLetters = str.slice(-endSymbols);\n\n  return `${openingLetters}${separation}${closingLetters}`;\n}\n\nexport default shortenStr;\n","import  { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useAppSelector, useAppDispatch } from '@state/hooks';\r\nimport { SUPPORTED_WALLETS } from '@config/wallets';\r\nimport { UiButton } from '@components/ui/index';\r\nimport { connectAccount } from '@state/wallets/thunks';\r\nimport { shortenStr } from '@utils/filters';\r\n\r\nconst wallet = SUPPORTED_WALLETS[0];\r\n\r\nconst WalletManagementButton: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { connectedAddress, isWalletConnecting } = useAppSelector(state => state.wallets);\r\n\r\n  const isWalletConnected = !!connectedAddress;\r\n\r\n  return (\r\n    <UiButton\r\n      disabled={isWalletConnecting || isWalletConnected}\r\n      onClick={() => dispatch(connectAccount())}\r\n      width=\"250px\"\r\n      height=\"44px\"\r\n      isLoading={isWalletConnecting}\r\n    >\r\n      <ButtonWrapperStyled>\r\n        {isWalletConnected ? (\r\n          <div>\r\n            <span>{ shortenStr(connectedAddress, 6, 4) }</span>\r\n          </div>\r\n        ) : (\r\n          <div className=\"connect-wallet\">\r\n            <img className=\"connect-wallet__logo\" src={wallet.logo} alt='' style={{ width: '30px' }} />\r\n            <div>\r\n              Connect {wallet.name}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </ButtonWrapperStyled>\r\n    </UiButton>\r\n  ); \r\n}\r\n\r\nconst ButtonWrapperStyled = styled.div`\r\n  & .connect-wallet {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &__logo {\r\n      margin-right: 8px\r\n    }\r\n  }\r\n`;\r\n\r\nexport default WalletManagementButton;\r\n","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { UiLogo } from '@components/ui/index';\r\nimport TheNavigation from '@components/TheNavigation/TheNavigation';\r\nimport TheWalletManagementButton from '@components/TheWalletManagementButton/TheWalletManagementButton';\r\n\r\nconst Header: FC = () => {\r\n  return (\r\n    <HeaderWrapperStyled>\r\n      <div>\r\n        <Link to=\"/\">\r\n          <UiLogo />\r\n        </Link>\r\n      </div>\r\n\r\n      <div>\r\n        <TheNavigation />\r\n      </div>\r\n\r\n      <div>\r\n        <TheWalletManagementButton />\r\n      </div>\r\n    </HeaderWrapperStyled>\r\n  ); \r\n}\r\n\r\nconst HeaderWrapperStyled = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport default Header;","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { UiLink } from '@components/ui/index';\r\n\r\nconst Footer: FC = () => {\r\n  return (\r\n    <FooterWrapperStyled>\r\n      <div className=\"links-collection\">\r\n        <div className=\"links-collection__item\">\r\n          <UiLink\r\n            to=\"https://wiki.arcx.money\"\r\n            mode=\"html\"\r\n            openHtmlLinkSeparately\r\n          >\r\n            Wiki\r\n          </UiLink>\r\n        </div>\r\n\r\n        <div className=\"links-collection__item\">\r\n          <UiLink\r\n            to=\"https://forum.arcx.money\"\r\n            mode=\"html\"\r\n            openHtmlLinkSeparately\r\n          >\r\n            Blog\r\n          </UiLink>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"links-collection\">\r\n        <div className=\"links-collection__item\">\r\n          <UiLink\r\n            to=\"https://discord.com/invite/skwz6je\"\r\n            mode=\"html\"\r\n            openHtmlLinkSeparately\r\n          >\r\n            Discord\r\n          </UiLink>\r\n        </div>\r\n\r\n        <div className=\"links-collection__item\">\r\n          <UiLink\r\n            to=\"https://twitter.com/arcxmoney\"\r\n            mode=\"html\"\r\n            openHtmlLinkSeparately\r\n          >\r\n            Twitter\r\n          </UiLink>\r\n        </div>\r\n      </div>\r\n    </FooterWrapperStyled>\r\n  ); \r\n}\r\n\r\nconst FooterWrapperStyled = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  & .links-collection {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &__item {\r\n      margin-right: 25px;\r\n\r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Footer;","import { useEffect } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '@state/hooks';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { removeMessage } from '@state/app/actions';\r\n\r\nfunction useAppMessages() {\r\n  const dispatch = useAppDispatch();\r\n  const { messages } = useAppSelector(state => state.app);\r\n\r\n  useEffect(() => {\r\n    messages.forEach(message => {\r\n      const copyMessage = { ...message };\r\n      dispatch(removeMessage(message));\r\n      \r\n      toast[copyMessage.type](\r\n        copyMessage.content,\r\n        {\r\n          position: \"top-center\",\r\n          theme: 'dark',\r\n          autoClose: 4000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        },\r\n      );\r\n    })\r\n  }, [messages]);\r\n}\r\n\r\nexport default useAppMessages;\r\n","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport type { Vault } from \"@typings/lending\";\r\nimport { useAppSelector } from '@state/hooks';\r\nconst ARCX_LOGO = require('@assets/images/assets-logos/arcx.svg').default;\r\n\r\ntype VaultCardProps = {\r\n  vault: Vault;\r\n}\r\n\r\nconst VaultCard: FC<VaultCardProps> = ({\r\n  vault,\r\n}) => {\r\n  const { collateralPriceUSD } = useAppSelector(state => state.lending);\r\n\r\n  const currentCollateralValueUSD = collateralPriceUSD * vault.collateral;\r\n\r\n  const ltvRatioPercentage = (vault.debt / currentCollateralValueUSD) * 100;\r\n\r\n  return (\r\n    <VaultCardWrapperStyled>\r\n      <div className=\"vault-info\">\r\n        <div className=\"vault-info__logo\">\r\n          <img className=\"vault-asset-logo\" src={ARCX_LOGO} alt=\"\" />\r\n        </div>\r\n\r\n        <div>\r\n          <div className=\"heading-4\">\r\n            <span className=\"text-alternative\">ARCx</span> / wETH\r\n          </div>\r\n          <div>\r\n            <span className=\"weight-600\">Deposit wETH to mint ARCx</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"vault-stats text-right\">\r\n        <div className=\"vault-stats__stat\">\r\n          <div className=\"heading-4\">\r\n            <span className={true ? 'text-alternative' : 'text-disabled'}>\r\n              {ltvRatioPercentage}%\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"weight-600\">Current LTV</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"vault-stats__stat\">\r\n          <div className=\"heading-4\">\r\n            <span className='text-alternative'>\r\n              { vault.collateral } wETH\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"weight-600\">Deposited</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"vault-stats__stat\">\r\n          <div className=\"heading-4\">\r\n            <span className='text-alternative'>\r\n              { vault.debt } ARCx\r\n            </span>\r\n          </div>\r\n          <div>\r\n            <span className=\"weight-600\">Borrowed</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </VaultCardWrapperStyled>\r\n  );\r\n}\r\n\r\nconst VaultCardWrapperStyled = styled.div`\r\n  background: var(--dark-color-3);\r\n  padding: 18px 24px;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  & .vault-info {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &__logo {\r\n      margin-right: 16px;\r\n    }\r\n  }\r\n\r\n  & .vault-asset-logo {\r\n    width: 48px;\r\n    border-radius: 50%;\r\n    user-select: none;\r\n  }\r\n\r\n  & .vault-stats {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &__stat {\r\n      margin-right: 65px;\r\n\r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default VaultCard;\r\n","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useAppSelector } from '@state/hooks';\r\nimport { useUserVaults } from '@state/lending/hooks';\r\nimport { UiSkeleton, UiAlert } from '@components/ui/index';\r\nimport VaultCard from '@components/vaults/VaultCard/VaultCard';\r\n\r\nconst VaultsList: FC = () => {\r\n  const { areVaultsLoading } = useAppSelector(state => state.lending);\r\n  const { userVaults } = useUserVaults();\r\n\r\n  return (\r\n    <VaultsListWrapperStyled>\r\n      {areVaultsLoading && (\r\n        <UiSkeleton\r\n          height={90}\r\n          count={2}\r\n          style={{ borderRadius: '20px', marginBottom: '24px'}}\r\n        />\r\n      )}\r\n\r\n      {(!areVaultsLoading && !userVaults.length) && (\r\n        <UiAlert>You don't have any vaults yet</UiAlert>\r\n      )}\r\n\r\n      {(!areVaultsLoading && !!userVaults.length) && userVaults.map((vault, index) => (\r\n        <div key={index} className=\"vault-card\">\r\n          <VaultCard vault={vault} />\r\n        </div>\r\n      ))}\r\n    </VaultsListWrapperStyled>\r\n  );\r\n}\r\n\r\nconst VaultsListWrapperStyled = styled.div`\r\n  & .vault-card {\r\n    margin-bottom: 16px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default VaultsList;\r\n","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport VaultsList from '@components/vaults/VaultsList/VaultsList';\r\n\r\nconst Page: FC = () => {\r\n  return (\r\n    <VaultsPageWrapperStyled>\r\n      <div className=\"vaults-page-content\">\r\n        <div>\r\n          <div>\r\n            <h1 className=\"heading-3 text-alternative\">Vaults</h1>\r\n          </div>\r\n          <div>\r\n            <span>View all the ARCx vaults open at the moment</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"vaults-page-content__list\">\r\n          <VaultsList />\r\n        </div>\r\n      </div>\r\n    </VaultsPageWrapperStyled>\r\n  ); \r\n}\r\n\r\nconst VaultsPageWrapperStyled = styled.div`\r\n  padding: 0 120px;\r\n  max-width: 1400px;\r\n  margin: auto;\r\n\r\n  & .vaults-page-content {\r\n    &__list {\r\n      margin-top: 38px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Page;","import { useAppSelector } from '@state/hooks';\r\n\r\ntype HookArgs = {\r\n  collateralAmount: number;\r\n  assetAmountUSD: number;\r\n  etherBalance: number;\r\n}\r\n\r\n\r\nfunction useBorrow({\r\n  collateralAmount,\r\n  assetAmountUSD,\r\n  etherBalance\r\n}: HookArgs) {\r\n  const { collateralPriceUSD, maxLTVRatio } = useAppSelector(state => state.lending);\r\n  const { connectedAddress, generalProvider } = useAppSelector(state => state.wallets);\r\n\r\n  const isWalletConnected = !!connectedAddress;\r\n\r\n  const currentCollateralPriceUSD = collateralAmount * collateralPriceUSD;\r\n\r\n  let currentLTVRatio = (assetAmountUSD / currentCollateralPriceUSD);\r\n  if (!Number.isFinite(currentLTVRatio) || !currentLTVRatio) currentLTVRatio = 0;\r\n  const currentLTVRatioPercentage = currentLTVRatio * 100;\r\n\r\n  const maxAssetAmount = etherBalance * collateralPriceUSD * maxLTVRatio;\r\n\r\n  const isCurrentLTVRatioValid =  currentLTVRatio <= maxLTVRatio && currentLTVRatio > 0;\r\n  const isBorrowPossible = isCurrentLTVRatioValid && generalProvider && isWalletConnected;\r\n\r\n  return {\r\n    maxAssetAmount,\r\n    currentLTVRatioPercentage,\r\n    isBorrowPossible,\r\n  };\r\n}\r\n\r\nexport default useBorrow;\r\n","import { FC } from 'react';\r\nimport styled from 'styled-components'\r\nimport { useAppSelector } from '@state/hooks';\r\nimport { UiSkeleton } from '@components/ui/index';\r\n\r\ninterface BorrowDetailsProps {\r\n  currentLTVRatioPercentage: number;\r\n}\r\n\r\nconst BorrowDetails: FC<BorrowDetailsProps> = ({ currentLTVRatioPercentage }) => {\r\n  const { \r\n    maxLTVRatio,\r\n    isMaxLTVRatioLoading,\r\n    collateralPriceUSD,\r\n    isCollateralPriceLoading,\r\n  } = useAppSelector(state => state.lending);\r\n\r\n  const maxLTVRatioPercentage = maxLTVRatio * 100;\r\n\r\n  const isCurrentLTVRatioInvalid = currentLTVRatioPercentage > maxLTVRatioPercentage || currentLTVRatioPercentage <= 0;\r\n\r\n  return (\r\n    <DetailsWrapperStyled>\r\n      <DetailStyled className=\"detail\">\r\n        <div>\r\n          <span className=\"text-small\">Current LTV Ratio</span>\r\n        </div>\r\n\r\n        <div>\r\n          <span className={`${isCurrentLTVRatioInvalid && 'text-danger'} text-small text-alternative`}>\r\n            { currentLTVRatioPercentage }%\r\n          </span>\r\n        </div>\r\n      </DetailStyled>\r\n      \r\n      <DetailStyled className=\"detail\">\r\n        <div>\r\n          <span className=\"text-small\">Maximum LTV Ratio</span>\r\n        </div>\r\n\r\n        <div>\r\n          { isMaxLTVRatioLoading ? (\r\n            <UiSkeleton width={50} height={16} />\r\n          ) : (\r\n            <span className=\"text-small text-alternative\">\r\n              {maxLTVRatioPercentage}%\r\n            </span>\r\n          )}\r\n        </div>\r\n      </DetailStyled>\r\n\r\n      <DetailStyled className=\"detail\">\r\n        <div>\r\n          <span className=\"text-small\">ETH Price</span>\r\n        </div>\r\n\r\n        <div>\r\n          { isCollateralPriceLoading ? (\r\n            <UiSkeleton width={80} height={16} />\r\n          ) : (\r\n            <span className=\"text-small text-alternative\">\r\n              ${ collateralPriceUSD } USD\r\n            </span>\r\n          )}\r\n        </div>\r\n      </DetailStyled>\r\n    </DetailsWrapperStyled>\r\n  );\r\n}\r\n\r\nconst DetailsWrapperStyled = styled.div`\r\n  & .detail {\r\n    margin-bottom: 6px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst DetailStyled = styled.div`\r\n  display: flex;\r\n  font-weight: 500;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default BorrowDetails;\r\n","import { FC, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useAppSelector, useAppDispatch } from '@state/hooks';\r\nimport { useEtherBalance } from '@state/wallets/hooks';\r\nimport { borrow } from '@state/lending/thunks';\r\nimport { UiField, UiButton } from '@components/ui/index';\r\nimport useBorrow from './hooks/useBorrow';\r\nimport BorrowDetails from './components/BorrowDetails/BorrowDetails';\r\n\r\n\r\nconst BorrowInterface: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const [ collateralAmount, setCollateralAmount ] = useState('0');\r\n  const [ borrowAssetAmount, setBorrowAssetAmount ] = useState('0');\r\n  const { isWalletConnecting, connectedAddress, isPerformingTransaction } = useAppSelector(state => state.wallets);\r\n  const etherBalance = useEtherBalance();\r\n\r\n  const {\r\n    currentLTVRatioPercentage,\r\n    isBorrowPossible,\r\n    maxAssetAmount,\r\n  } = useBorrow({ \r\n    collateralAmount: Number(collateralAmount),\r\n    assetAmountUSD: Number(borrowAssetAmount),\r\n    etherBalance: etherBalance,\r\n  });\r\n\r\n  const isWalletConnected = !!connectedAddress;\r\n\r\n  function handleBorrow() {\r\n    dispatch(borrow({\r\n      collateralAmount: Number(collateralAmount),\r\n      debtAmount: Number(borrowAssetAmount),\r\n    }));\r\n  }\r\n\r\n  return (\r\n    <BorrowInterfaceWrapperStyled>\r\n      <div className=\"borrow-interface\">\r\n        <div className=\"borrow-interface__field\">\r\n          <UiField\r\n            value={collateralAmount}\r\n            onChange={ setCollateralAmount }\r\n            numbersOnly\r\n            maxNumber={etherBalance}\r\n            autoFocus\r\n            rightAdditions={(\r\n              <div className=\"text-alternative\">ETH</div>\r\n            )}\r\n          >\r\n            <div className=\"text-small\">\r\n              <span className=\"text-alternative\">Deposit</span> collateral\r\n            </div>\r\n          </UiField>\r\n        </div>\r\n\r\n        <div className=\"borrow-interface__field\">\r\n          <UiField\r\n            value={borrowAssetAmount}\r\n            onChange={ setBorrowAssetAmount }\r\n            numbersOnly\r\n            maxNumber={maxAssetAmount}\r\n            rightAdditions={(\r\n              <div className=\"text-alternative\">USD</div>\r\n            )}\r\n          >\r\n            <div className=\"text-small\">\r\n              <span className=\"text-alternative\">Borrow</span> asset\r\n            </div>\r\n          </UiField>\r\n        </div>\r\n\r\n        <div className=\"borrow-interface__footer\">\r\n          <BorrowInterfaceFooterStyled>\r\n            <div className=\"details\">\r\n              <BorrowDetails currentLTVRatioPercentage={currentLTVRatioPercentage} />\r\n            </div>\r\n\r\n            <div>\r\n              <UiButton\r\n                theme=\"primary\"\r\n                isLoading={isWalletConnecting || isPerformingTransaction}\r\n                disabled={!isBorrowPossible}\r\n                onClick={handleBorrow}\r\n              >\r\n                { isWalletConnected ? 'Initiate borrow' : 'Connect wallet' }\r\n              </UiButton>\r\n            </div>\r\n          </BorrowInterfaceFooterStyled>\r\n        </div>\r\n      </div>\r\n    </BorrowInterfaceWrapperStyled>\r\n  ); \r\n}\r\n\r\nconst BorrowInterfaceWrapperStyled = styled.div`\r\n  background: var(--dark-color-3);\r\n  border-radius: 20px;\r\n  padding: 24px 24px 50px 24px;\r\n\r\n  & .borrow-interface {\r\n    &__field {\r\n      margin-bottom: 16px;\r\n\r\n      &:last-child {\r\n        margin-bottom: 0;\r\n      }\r\n    }\r\n\r\n    &__footer {\r\n      margin-top: 22px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst BorrowInterfaceFooterStyled = styled.div`\r\n  background: var(--dark-color-5);\r\n  border-radius: 12px;\r\n\r\n  & .details {\r\n    padding: 22px;\r\n  }\r\n`;\r\n\r\nexport default BorrowInterface;","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport TheBorrowInterface from '@components/borrow/TheBorrowInterface/TheBorrowInterface';\r\n\r\nconst Page: FC = () => {\r\n  return (\r\n    <BorrowPageWrapperStyled>\r\n      <div className=\"borrow-page-content\">\r\n        <div>\r\n          <div className=\"heading-3\">\r\n            <span className=\"text-alternative\">ETH</span> / USD\r\n          </div>\r\n          <div>\r\n            <span>Deposit WETH to a vault, and mint ARCx stablecoins.</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"borrow-page-content__interface\">\r\n          <TheBorrowInterface />\r\n        </div>\r\n      </div>\r\n    </BorrowPageWrapperStyled>\r\n  ); \r\n}\r\n\r\nconst BorrowPageWrapperStyled = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  & .borrow-page-content {\r\n    &__interface {\r\n      margin-top: 35px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Page;","import { FC } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport VaultsPage from '@pages/VaultsPage/VaultsPage';\r\nimport BorrowPage from '@pages/BorrowPage/BorrowPage';\r\n\r\nconst Routing: FC = () => {\r\n  return (\r\n    <Switch>\r\n      <Route exact strict path=\"/vaults\" component={VaultsPage} />\r\n      <Route exact strict path=\"/borrow\" component={BorrowPage} />\r\n      <Route path=\"*\">\r\n        <Redirect to=\"/vaults\" />\r\n      </Route>\r\n    </Switch>\r\n  ); \r\n}\r\n\r\nexport default Routing;","import { FC } from 'react';\r\nimport { UiAlert, UiLink } from '@components/ui/index';\r\nimport { getInstallableWallets } from '@utils/wallets';\r\n\r\nconst NoSupportedWalletsAlert: FC = () => {\r\n  return (\r\n    <UiAlert theme=\"danger\">\r\n      You don't have supported wallets installed. Please check out these: &nbsp;\r\n      {getInstallableWallets().map((wallet, index) => (\r\n        <span key={index}>\r\n          {index !== 0 && (<span>, &nbsp;</span>)}\r\n\r\n          <UiLink\r\n            to={wallet.installLink}\r\n            theme=\"info\"\r\n            mode=\"html\"\r\n            openHtmlLinkSeparately\r\n          >\r\n            {wallet.name}\r\n          </UiLink>\r\n        </span>\r\n      ))}\r\n    </UiAlert>\r\n  );\r\n}\r\n\r\nexport default NoSupportedWalletsAlert;","import { FC } from 'react';\r\nimport { UiAlert } from '@components/ui/index';\r\nimport { SUPPORTED_CHAINS } from '@config/wallets';\r\n\r\nconst UnsupportedChainAlert: FC = () => {\r\n  return (\r\n    <UiAlert theme=\"warning\">\r\n      Currently enabled chain is not supported, please use: &nbsp;\r\n      {SUPPORTED_CHAINS.map((chain, index) => (\r\n        <span key={index}>\r\n          {index !== 0 && (<span>, &nbsp;</span>)}\r\n          {chain.name}\r\n        </span>\r\n      ))}\r\n    </UiAlert>\r\n  );\r\n}\r\n\r\nexport default UnsupportedChainAlert;","import { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useAppSelector } from '@state/hooks';\r\nimport NoSupportedWalletsAlert from './components/NoSupportedWalletsAlert';\r\nimport UnsupportedChainAlert from './components/UnsupportedChainAlert';\r\n\r\nconst AppAlerts: FC = () => {\r\n  const { isAnyWalletSupported, isSupportedChainEnabled } = useAppSelector(state => state.wallets);\r\n\r\n  const areAlertsEmpty = isAnyWalletSupported && isSupportedChainEnabled;\r\n\r\n  return (\r\n    <AlertsWrapperStyled areAlertsEmpty={areAlertsEmpty}>\r\n      { !isAnyWalletSupported && (\r\n        <div className=\"app-alert-item\">\r\n          <NoSupportedWalletsAlert />\r\n        </div>\r\n      )}\r\n      { (isAnyWalletSupported && !isSupportedChainEnabled) && (\r\n        <div className=\"app-alert-item\">\r\n          <UnsupportedChainAlert />\r\n        </div>\r\n      )}\r\n    </AlertsWrapperStyled>\r\n  )\r\n}\r\n\r\nconst AlertsWrapperStyled = styled.div<{\r\n  areAlertsEmpty: boolean;\r\n}>`\r\n  max-width: 800px;\r\n  margin: auto;\r\n\r\n  & .app-alert-item {\r\n    margin-bottom: 12px;\r\n    \r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  ${({ areAlertsEmpty }) => !areAlertsEmpty ? `\r\n    margin-bottom: 40px;\r\n  ` : ``}\r\n`;\r\n\r\nexport default AppAlerts;\r\n","import styled from 'styled-components';\r\n\r\nconst AppWrapperStyled = styled.div`\r\n  background-image: radial-gradient(circle closest-corner at -4% 37%, rgba(40,72,122, 0.85), transparent),\r\n                    radial-gradient(circle closest-corner at 105% 59%, rgba(138,41,129, 0.7), transparent);\r\n  max-width: 100vw;\r\n  min-height: 100vh;\r\n  display: grid;\r\n  grid-template-rows: auto 1fr auto;\r\n  padding: 50px 60px 35px 60px;\r\n  box-sizing: border-box;\r\n`;\r\n\r\nexport default AppWrapperStyled;","import styled from 'styled-components';\r\n\r\nconst AppContentStyled = styled.div`\r\n  padding: 80px 0 100px 0;\r\n`;\r\n\r\nexport default AppContentStyled;","import 'normalize.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport '../assets/scss/main.scss';\n\nimport { ToastContainer } from 'react-toastify';\n\nimport { useWallets } from '@state/wallets/hooks';\nimport { useLending } from '@state/lending/hooks';\n\nimport TheHeader from '@components/TheHeader/TheHeader';\nimport TheFooter from '@components/TheFooter/TheFooter';\n\nimport useAppMessages from './hooks/useAppMessages';\nimport Routing from './components/Routing/Routing';\nimport AppAlerts from './components/AppAlerts/AppAlerts';\nimport { AppWrapperStyled, AppContentStyled } from './styleds/index';\n\n\nfunction App() {\n  useWallets();\n  useLending();\n  useAppMessages();\n\n  return (\n    <AppWrapperStyled>\n      <div>\n        <TheHeader />\n      </div>\n\n      <AppContentStyled>\n        <ToastContainer />\n        <AppAlerts />\n        <Routing />\n      </AppContentStyled>\n\n      <div>\n        <TheFooter />\n      </div>\n    </AppWrapperStyled>\n  );\n}\n\nexport default App;\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { AppMessage } from '@typings/app';\r\nimport {\r\n  showMessage,\r\n  removeMessage,\r\n} from './actions';\r\n\r\nexport interface AppState {\r\n  messages: Array<AppMessage & { uuid: string }>,\r\n};\r\n\r\nexport const initialState: AppState = {\r\n  messages: [],\r\n};\r\n\r\nexport default createReducer(initialState, builder => \r\n  builder\r\n    .addCase(showMessage, (state, { payload }) => {\r\n      state.messages.push({\r\n        ...payload,\r\n        uuid: uuidv4(),\r\n      });\r\n    })\r\n    .addCase(removeMessage, (state, { payload }) => {\r\n      const messageIdx = state.messages.findIndex(message => message.uuid === payload.uuid);\r\n      if (messageIdx > -1) state.messages.splice(messageIdx, 1);\r\n    })\r\n);","import { createReducer } from '@reduxjs/toolkit'\r\nimport type { BaseProvider, Web3Provider } from '@typings/app';\r\nimport {\r\n  setIsWalletConnecting,\r\n  setIsAnyWalletSupported,\r\n  setIsSupportedChainEnabled,\r\n  setConnectedAddress,\r\n  setGeneralProvider,\r\n  setWalletProvider,\r\n  incrementTransactionsCounter,\r\n  setIsPerformingTransaction,\r\n} from './actions';\r\n\r\nexport interface WalletsState {\r\n  isAnyWalletSupported: boolean;\r\n  connectedAddress: string;\r\n  isEthereumProviderConnected: boolean;\r\n  isWalletConnecting: boolean;\r\n  isSupportedChainEnabled: boolean;\r\n  generalProvider: BaseProvider | null;\r\n  walletProvider: Web3Provider | null;\r\n  transactionsCounter: number;\r\n  isPerformingTransaction: boolean;\r\n};\r\n\r\nexport const initialState: WalletsState = {\r\n  isAnyWalletSupported: true,\r\n  isEthereumProviderConnected: false,\r\n  connectedAddress: '',\r\n  isWalletConnecting: true,\r\n  isSupportedChainEnabled: true,\r\n  generalProvider: null,\r\n  walletProvider: null,\r\n  transactionsCounter: 0,\r\n  isPerformingTransaction: false,\r\n};\r\n\r\nexport default createReducer(initialState, builder => \r\n  builder\r\n    .addCase(setIsWalletConnecting, (state, { payload }) => {\r\n      state.isWalletConnecting = payload;\r\n    })\r\n    .addCase(setIsAnyWalletSupported, (state, { payload }) => {\r\n      state.isAnyWalletSupported = payload;\r\n    })\r\n    .addCase(setIsSupportedChainEnabled, (state, { payload }) => {\r\n      state.isSupportedChainEnabled = payload;\r\n    })\r\n    .addCase(setConnectedAddress, (state, { payload }) => {\r\n      state.connectedAddress = payload;\r\n    })\r\n    .addCase(setGeneralProvider, (state, { payload }) => {\r\n      state.generalProvider = payload;\r\n    })\r\n    .addCase(setWalletProvider, (state, { payload }) => {\r\n      state.walletProvider = payload;\r\n    })\r\n    .addCase(incrementTransactionsCounter, (state) => {\r\n      state.transactionsCounter = state.transactionsCounter + 1;\r\n    })\r\n    .addCase(setIsPerformingTransaction, (state, { payload }) => {\r\n      state.isPerformingTransaction = payload;\r\n    })\r\n);\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport type { Vault } from \"@typings/lending\";\r\nimport {\r\n  setMaxLTVRatio,\r\n  setIsMaxLTVRatioLoading,\r\n  setCollateralPriceUSD,\r\n  setIsCollateralPriceLoading,\r\n  setAllVaults,\r\n  setAreVaultsLoading,\r\n  addVault,\r\n} from './actions';\r\n\r\nexport interface LendingState {\r\n  maxLTVRatio: number;\r\n  isMaxLTVRatioLoading: boolean;\r\n  collateralPriceUSD: number;\r\n  isCollateralPriceLoading: boolean;\r\n  allVaults: Vault[];\r\n  areVaultsLoading: boolean;\r\n};\r\n\r\nexport const initialState: LendingState = {\r\n  maxLTVRatio: 0,\r\n  isMaxLTVRatioLoading: true,\r\n  collateralPriceUSD: 0,\r\n  isCollateralPriceLoading: true,\r\n  allVaults: [],\r\n  areVaultsLoading: true,\r\n};\r\n\r\nexport default createReducer(initialState, builder => \r\n  builder\r\n    .addCase(setMaxLTVRatio, (state, { payload }) => {\r\n      state.maxLTVRatio = payload;\r\n    })\r\n    .addCase(setIsMaxLTVRatioLoading, (state, { payload }) => {\r\n      state.isMaxLTVRatioLoading = payload;\r\n    })\r\n    .addCase(setCollateralPriceUSD, (state, { payload }) => {\r\n      state.collateralPriceUSD = payload;\r\n    })\r\n    .addCase(setIsCollateralPriceLoading, (state, { payload }) => {\r\n      state.isCollateralPriceLoading = payload;\r\n    })\r\n    .addCase(setAllVaults, (state, { payload }) => {\r\n      state.allVaults = payload;\r\n    })\r\n    .addCase(addVault, (state, { payload }) => {\r\n      state.allVaults.push(payload);\r\n    })\r\n    .addCase(setAreVaultsLoading, (state, { payload }) => {\r\n      state.areVaultsLoading = payload;\r\n    })\r\n);","import { configureStore } from '@reduxjs/toolkit';\r\n\r\nimport app from './app/reducer';\r\nimport wallets from './wallets/reducer';\r\nimport lending from './lending/reducer';\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    app,\r\n    wallets,\r\n    lending,\r\n  },\r\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\r\n    thunk: true,\r\n    serializableCheck: false,\r\n  }),\r\n});\r\n\r\nexport default store;\r\n\r\nexport type AppState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport App from './App/App';\nimport store from './state'\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <StrictMode>\n    <Provider store={store}>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </Provider>\n  </StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/metamask-logo.45038d58.svg\";","export default __webpack_public_path__ + \"static/media/logo.3e5d7052.svg\";","export default __webpack_public_path__ + \"static/media/arcx.5a38c5ca.svg\";"],"sourceRoot":""}